<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE pdf2xml SYSTEM "pdf2xml.dtd">

<pdf2xml producer="poppler" version="0.30.0">
<page number="1" position="absolute" top="0" left="0" height="1262" width="892">
	<fontspec id="0" size="12" family="Times" color="#000000"/>
	<fontspec id="1" size="9" family="Times" color="#000000"/>
	<fontspec id="2" size="28" family="Times" color="#000000"/>
	<fontspec id="3" size="11" family="Times" color="#000000"/>
	<fontspec id="4" size="11" family="Times" color="#000000"/>
	<fontspec id="5" size="15" family="Times" color="#000000"/>
	<fontspec id="6" size="11" family="Times" color="#7282aa"/>
	<fontspec id="7" size="11" family="Times" color="#7282aa"/>
<text top="44" left="64" width="11" height="15" font="0">C</text>
<text top="47" left="75" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="44" left="166" width="10" height="15" font="0">R</text>
<text top="47" left="177" width="61" height="12" font="1">ESEARCH</text>
<text top="44" left="242" width="12" height="15" font="0">A</text>
<text top="47" left="254" width="53" height="12" font="1">RTICLES</text>
<text top="44" left="814" width="15" height="15" font="0">57</text>
<text top="98" left="149" width="466" height="30" font="2"><b>PivotalR: A Package for Machine</b></text>
<text top="137" left="149" width="302" height="30" font="2"><b>Learning on Big Data</b></text>
<text top="173" left="149" width="75" height="15" font="0">by Hai Qian</text>
<text top="214" left="148" width="114" height="13" font="3"><b>Abstract PivotalR</b></text>
<text top="214" left="267" width="479" height="13" font="4">is an R package that provides a front-end to PostgreSQL and all PostgreSQL-</text>
<text top="231" left="149" width="595" height="13" font="4">like databases such as Pivotal Inc.’s Greenplum Database (GPDB), HAWQ. When running on the</text>
<text top="247" left="148" width="596" height="13" font="4">products of Pivotal Inc., <b>PivotalR </b>utilizes the full power of parallel computation and distributive</text>
<text top="264" left="149" width="596" height="13" font="4">storage, and thus gives the normal R user access to big data. <b>PivotalR </b>also provides an R wrapper for</text>
<text top="280" left="149" width="595" height="13" font="4">MADlib. MADlib is an open-source library for scalable in-database analytics. It provides data-parallel</text>
<text top="297" left="149" width="595" height="13" font="4">implementations of mathematical, statistical and machine-learning algorithms for structured and</text>
<text top="313" left="149" width="595" height="13" font="4">unstructured data. Thus <b>PivotalR </b>also enables the user to apply machine learning algorithms on big</text>
<text top="329" left="149" width="29" height="13" font="4">data.</text>
<text top="374" left="149" width="104" height="17" font="5"><b>Introduction</b></text>
<text top="413" left="149" width="595" height="13" font="4">In recent years, Big Data has become an important research topic and a very realistic problem in</text>
<text top="430" left="149" width="595" height="13" font="4">industry. The amount of data that we need to process is exploding, and the ability of analyzing big</text>
<text top="446" left="149" width="595" height="13" font="4">data has become the key factor in competition. Big data sets do not fit into computer’s memory and</text>
<text top="462" left="149" width="595" height="13" font="4">it would be really slow if the big data sets were processed sequentially. On the other hand, most</text>
<text top="479" left="149" width="595" height="13" font="4">contributed packages of R are still strictly sequential, single machine, and they are restricted to small</text>
<text top="495" left="149" width="595" height="13" font="4">data sets that can be loaded into memory. As computing shifts irreversibly to parallel architectures</text>
<text top="512" left="149" width="415" height="13" font="4">and big data, there is a risk for the R community to become irrelevant.</text>
<text top="533" left="171" width="573" height="13" font="4">Some efforts have been invested into developing packages that give R users and developers</text>
<text top="549" left="149" width="538" height="13" font="4">the access to some of the parallel distributive platforms. Some examples include <b>dplyr </b><a href="2014-1-qian.html#11">(</a></text>
<text top="549" left="686" width="58" height="13" font="6"><a href="2014-1-qian.html#11">Wickham</a></text>
<text top="566" left="149" width="76" height="13" font="6"><a href="2014-1-qian.html#11">and Francois</a></text>
<text top="566" left="225" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="566" left="232" width="27" height="13" font="6"><a href="2014-1-qian.html#11">2013</a></text>
<text top="566" left="259" width="78" height="13" font="4"><a href="2014-1-qian.html#11">), </a><b>RHadoop </b><a href="2014-1-qian.html#11">(</a></text>
<text top="566" left="337" width="188" height="13" font="6"><a href="2014-1-qian.html#11">Revolution Analytics Company</a></text>
<text top="566" left="525" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="566" left="531" width="27" height="13" font="6"><a href="2014-1-qian.html#11">2012</a></text>
<text top="566" left="558" width="188" height="13" font="4"><a href="2014-1-qian.html#11">) </a>(including <b>plyrmr</b>, <b>rmr</b>, <b>rhdfs</b>,</text>
<text top="582" left="149" width="41" height="13" font="3"><b>rhbase</b></text>
<text top="582" left="190" width="62" height="13" font="4">), <b>RHIPE </b><a href="2014-1-qian.html#11">(</a></text>
<text top="582" left="252" width="64" height="13" font="6"><a href="2014-1-qian.html#11">Guha et al.</a></text>
<text top="582" left="316" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="582" left="323" width="27" height="13" font="6"><a href="2014-1-qian.html#11">2012</a></text>
<text top="582" left="350" width="59" height="13" font="4"><a href="2014-1-qian.html#11">), </a><b>RHive </b><a href="2014-1-qian.html#11">(</a></text>
<text top="582" left="408" width="34" height="13" font="6"><a href="2014-1-qian.html#11">NexR</a></text>
<text top="582" left="442" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="582" left="449" width="27" height="13" font="6"><a href="2014-1-qian.html#11">2013</a></text>
<text top="582" left="475" width="78" height="13" font="4"><a href="2014-1-qian.html#11">), </a><b>teradataR </b><a href="2014-1-qian.html#11">(</a></text>
<text top="582" left="553" width="128" height="13" font="6"><a href="2014-1-qian.html#11">Teradata Corporation</a></text>
<text top="582" left="682" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="582" left="688" width="27" height="13" font="6"><a href="2014-1-qian.html#11">2012</a></text>
<text top="582" left="715" width="28" height="13" font="4"><a href="2014-1-qian.html#11">) </a>etc.</text>
<text top="603" left="171" width="231" height="13" font="4">In this paper we introduce the package</text>
<text top="603" left="406" width="53" height="13" font="7"><a href="http://CRAN.R-project.org/package=PivotalR"><b>PivotalR</b></a></text>
<text top="603" left="462" width="4" height="13" font="4"><a href="2014-1-qian.html#11">(</a></text>
<text top="603" left="467" width="67" height="13" font="6"><a href="2014-1-qian.html#11">Pivotal Inc.</a></text>
<text top="603" left="534" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="603" left="540" width="35" height="13" font="6"><a href="2014-1-qian.html#11">2013d</a></text>
<text top="603" left="576" width="171" height="13" font="4"><a href="2014-1-qian.html#11">), </a>which provides an R front-</text>
<text top="619" left="149" width="595" height="13" font="4">end with data.frame oriented API for R users to access big data stored in distributive databases</text>
<text top="636" left="149" width="267" height="13" font="4">or Hadoop distributive file system (HDFS) <a href="2014-1-qian.html#11">(</a></text>
<text top="636" left="416" width="204" height="13" font="6"><a href="2014-1-qian.html#11">The Apache Software Foundation</a></text>
<text top="636" left="620" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="636" left="627" width="27" height="13" font="6"><a href="2014-1-qian.html#11">2013</a></text>
<text top="636" left="655" width="91" height="13" font="4"><a href="2014-1-qian.html#11">). </a>In this sense,</text>
<text top="652" left="149" width="53" height="13" font="3"><b>PivotalR</b></text>
<text top="652" left="205" width="539" height="13" font="4">is close to the still under development <b>dplyr </b>package, which has a data.frame oriented API</text>
<text top="669" left="149" width="595" height="13" font="4">and multiple back-ends including several SQL database systems. <b>PivotalR </b>puts more emphasis on</text>
<text top="685" left="149" width="332" height="13" font="4">machine learning by providing a wrapper for MADlib <a href="2014-1-qian.html#11">(</a></text>
<text top="685" left="481" width="68" height="13" font="6"><a href="2014-1-qian.html#11">Pivotal Inc.</a></text>
<text top="685" left="548" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="685" left="555" width="33" height="13" font="6"><a href="2014-1-qian.html#11">2013c</a></text>
<text top="685" left="588" width="156" height="13" font="4"><a href="2014-1-qian.html#11">), </a>which is an open-source</text>
<text top="701" left="149" width="595" height="13" font="4">library of scalable in-database machine learning algorithms. Actually <b>PivotalR </b>offers more than</text>
<text top="718" left="148" width="596" height="13" font="4">what MADlib has. It adds functionalities that do not exist in MADlib, for example, the support for</text>
<text top="734" left="149" width="498" height="13" font="4">categorical variables. <b>PivotalR </b>makes it easier to work on big data sets in databases.</text>
<text top="755" left="171" width="573" height="13" font="4">This package is especially useful for users who are not familiar with SQL language, because</text>
<text top="772" left="149" width="595" height="13" font="4">the functions and syntax for the manipulation of tables are very similar to those for data.frame</text>
<text top="788" left="149" width="595" height="13" font="4">manipulation defined natively in R. Thus the learning curve for the package is very smooth. <b>PivotalR</b></text>
<text top="805" left="149" width="595" height="13" font="4">is also very useful for users who are familiar with SQL language, because it brings the graphical and</text>
<text top="821" left="149" width="465" height="13" font="4">analytical functionalities of R to the processing of big data stored in databases.</text>
<text top="842" left="171" width="53" height="13" font="3"><b>PivotalR</b></text>
<text top="842" left="228" width="516" height="13" font="4">is contributed to the open-source community by the Predictive Analytics Team at Pivotal</text>
<text top="858" left="149" width="595" height="13" font="4">Inc. In order to gain the power of distributive storage and parallel computation, the users need to have</text>
<text top="875" left="149" width="595" height="13" font="4">a distributive database system installed, for example the Greenplum Database or HAWQ. <b>PivotalR</b></text>
<text top="891" left="149" width="596" height="13" font="4">also supports the open-source database system PostgreSQL. Therefore <b>PivotalR </b>benefits R users by</text>
<text top="908" left="148" width="596" height="13" font="4">providing an easy-to-access interface for manipulating data tables stored in PostgreSQL database</text>
<text top="924" left="149" width="595" height="13" font="4">system and a combination of the powers of R and MADlib, which lets the user directly apply machine</text>
<text top="941" left="149" width="330" height="13" font="4">learning algorithms on the big data stored in databases.</text>
<text top="962" left="171" width="573" height="13" font="4">It is worth mentioning that <b>PivotalR </b>provides the access to data stored on HDFS by supporting</text>
<text top="978" left="149" width="53" height="13" font="4">HAWQ <a href="2014-1-qian.html#11">(</a></text>
<text top="978" left="201" width="67" height="13" font="6"><a href="2014-1-qian.html#11">Pivotal Inc.</a></text>
<text top="978" left="268" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="978" left="275" width="34" height="13" font="6"><a href="2014-1-qian.html#11">2013b</a></text>
<text top="978" left="309" width="387" height="13" font="4"><a href="2014-1-qian.html#11">), </a>which is the SQL query engine on HDFS created by Pivotal Inc.</text>
<text top="999" left="171" width="573" height="13" font="4">The user does not need to worry about the restriction of memory size even if the data size is very</text>
<text top="1015" left="149" width="596" height="13" font="4">big, because <b>PivotalR </b>minimizes the amount of data transferred between the database and R. The user</text>
<text top="1032" left="149" width="406" height="13" font="4">manipulates the data from R but the data itself stays in the database.</text>
<text top="1053" left="171" width="408" height="13" font="4">The work flow of using <b>PivotalR </b>is the following. First, the user uses</text>
<text top="1049" left="583" width="161" height="18" font="4">&#34;db.connect&#34; to connect to</text>
<text top="1069" left="149" width="106" height="13" font="4">a database. Then,</text>
<text top="1066" left="258" width="489" height="18" font="4">&#34;db.data.frame&#34; can be used to create a wrapper for a data table in the database.</text>
<text top="1086" left="149" width="598" height="13" font="4">Minimal information about the table is kept in the wrapper, and no data is loaded into the memory.</text>
<text top="1102" left="148" width="214" height="13" font="4">The user can easily operate on the</text>
<text top="1099" left="367" width="377" height="18" font="4">&#34;db.data.frame&#34; wrapper object and any operation creates a</text>
<text top="1115" left="149" width="595" height="18" font="4">&#34;db.Rquery&#34; object, which is just a wrapper for a series of operations and contains a SQL query string</text>
<text top="1135" left="148" width="596" height="13" font="4">(see the section of Manipulation of Data Tables in Database). During this data preparation step, no</text>
<text top="1210" left="148" width="220" height="15" font="0">The R Journal Vol. 6/1, June 2014</text>
<text top="1210" left="642" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="2" position="absolute" top="0" left="0" height="1262" width="892">
<text top="44" left="64" width="11" height="15" font="0">C</text>
<text top="47" left="75" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="44" left="166" width="10" height="15" font="0">R</text>
<text top="47" left="177" width="61" height="12" font="1">ESEARCH</text>
<text top="44" left="242" width="12" height="15" font="0">A</text>
<text top="47" left="254" width="53" height="12" font="1">RTICLES</text>
<text top="44" left="814" width="15" height="15" font="0">58</text>
<text top="103" left="149" width="343" height="13" font="4">data is loaded. In the next step, the user can either call the</text>
<text top="100" left="495" width="249" height="18" font="4">&#34;lookat&#34; function to view a sample of the</text>
<text top="120" left="149" width="598" height="13" font="4">operation result, or call one of the MADlib wrapper functions to execute a machine learning algorithm.</text>
<text top="136" left="149" width="595" height="13" font="4">Both choices initiate computation in the connected database. Usually the computation result is small</text>
<text top="152" left="149" width="597" height="13" font="4">and can be loaded into memory for further processing. In some cases, the result is also big, for example,</text>
<text top="169" left="149" width="595" height="13" font="4">the MADlib wrapper for ARIMA produces the residuals for each row of the data. In such cases, a table</text>
<text top="185" left="149" width="596" height="13" font="4">is created in the database to store the result and a wrapper is automatically created in R, and the user</text>
<text top="202" left="149" width="324" height="13" font="4">can use the same work flow to analyze the result table.</text>
<text top="223" left="171" width="573" height="13" font="4">From the above work flow, one can see that all the actual computation is done in the database. So</text>
<text top="239" left="149" width="595" height="13" font="4">the performance depends on the database. For the Greenplum database or HAWQ, all computation</text>
<text top="256" left="149" width="595" height="13" font="4">is done in a parallel and distributive way. Especially the MADlib machine learning functions are all</text>
<text top="272" left="149" width="595" height="13" font="4">implemented to fully utilize the parallel and distributive power of the databases. There are some</text>
<text top="288" left="149" width="595" height="13" font="4">operations that cannot be done in a parallel way, for example the ordered aggregate, but they have</text>
<text top="305" left="149" width="595" height="13" font="4">not been implemented in <b>PivotalR </b>yet. For the Postgres database, even though the computation is</text>
<text top="321" left="149" width="595" height="13" font="4">not in parallel, the user can still use PivotalR to easily access the data stored in the database, which</text>
<text top="338" left="149" width="596" height="13" font="4">might be too big to load into memory. Actually the performance on Postgres is not bad at all. In our</text>
<text top="354" left="148" width="596" height="13" font="4">performance tests in Postgres database, PivotalR’s ARIMA wrapper function for MADlib is faster than</text>
<text top="371" left="149" width="48" height="13" font="4">R’s own</text>
<text top="367" left="200" width="297" height="18" font="4">&#34;arima&#34; function when applied on large data sets.</text>
<text top="392" left="171" width="360" height="13" font="4">It is worth mentioning that the Greenplum database (GPDB) <a href="2014-1-qian.html#11">(</a></text>
<text top="392" left="531" width="66" height="13" font="6"><a href="2014-1-qian.html#11">Pivotal Inc.</a></text>
<text top="392" left="597" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="392" left="603" width="33" height="13" font="6"><a href="2014-1-qian.html#11">2013a</a></text>
<text top="392" left="636" width="108" height="13" font="4"><a href="2014-1-qian.html#11">) </a>has a community</text>
<text top="408" left="149" width="595" height="13" font="4">edition, which is free (but not open-source) and has all the functionalities except the technical support</text>
<text top="424" left="149" width="99" height="13" font="4">from Pivotal Inc.</text>
<text top="445" left="171" width="383" height="13" font="4">At the time of writing, the version of <b>PivotalR </b>on CRAN is 0.1.8.</text>
<text top="466" left="171" width="573" height="13" font="4">In this paper, we briefly introduce the usage of <b>PivotalR</b>. First in the next section we explain</text>
<text top="483" left="149" width="595" height="13" font="4">the architecture of <b>PivotalR</b>. Then we use various examples to illustrate the usage and work flow of</text>
<text top="499" left="149" width="53" height="13" font="3"><b>PivotalR</b></text>
<text top="499" left="202" width="3" height="13" font="4">.</text>
<text top="544" left="149" width="198" height="17" font="5"><b>Architecture of PivotalR</b></text>
<text top="583" left="148" width="117" height="13" font="4">As is shown in Fig.</text>
<text top="583" left="269" width="7" height="13" font="6"><a href="2014-1-qian.html#3">1</a></text>
<text top="583" left="276" width="288" height="13" font="4"><a href="2014-1-qian.html#3">, </a><b>PivotalR </b>connects to the database through the</text>
<text top="583" left="567" width="83" height="13" font="7"><a href="http://CRAN.R-project.org/package=RPostgreSQL"><b>RPostgreSQL</b></a></text>
<text top="583" left="654" width="5" height="13" font="4"><a href="2014-1-qian.html#11">(</a></text>
<text top="583" left="658" width="84" height="13" font="6"><a href="2014-1-qian.html#11">Conway et al.</a></text>
<text top="583" left="742" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="599" left="149" width="27" height="13" font="6"><a href="2014-1-qian.html#11">2013</a></text>
<text top="599" left="176" width="568" height="13" font="4"><a href="2014-1-qian.html#11">) </a>package. However, <b>PivotalR </b>does not directly call the functions in RPostgreSQL. Instead we</text>
<text top="616" left="149" width="595" height="13" font="4">create an abstraction layer to wrap the functions of RPostgreSQL, and the access to the database is</text>
<text top="632" left="149" width="598" height="13" font="4">done by calling the functions in the abstraction layer, which then call the functions in RPostgreSQL.</text>
<text top="649" left="148" width="597" height="13" font="4">This design makes it easier to add supports for other data storage platforms in the future. Right now,</text>
<text top="665" left="149" width="53" height="13" font="3"><b>PivotalR</b></text>
<text top="665" left="206" width="540" height="13" font="4">only supports the connection to PostgreSQL, GPDB (Greenplum Database) and HAWQ.</text>
<text top="681" left="148" width="399" height="13" font="4">Through HAWQ, <b>PivotalR </b>can access the big data stored on HDFS.</text>
<text top="702" left="171" width="573" height="13" font="4">In the future, <b>PivotalR </b>will add supports to other DBMS, Pivotal HD (Hadoop created by Pivotal</text>
<text top="719" left="149" width="595" height="13" font="4">Inc.) and Hadoop (MapReduce), but we have not decided about how to do that. This is why there are</text>
<text top="735" left="148" width="132" height="13" font="4">question marks in Fig.</text>
<text top="735" left="284" width="7" height="13" font="6"><a href="2014-1-qian.html#3">1</a></text>
<text top="735" left="291" width="3" height="13" font="4"><a href="2014-1-qian.html#3">.</a></text>
<text top="756" left="171" width="573" height="13" font="4">The table operation functions are built upon the abstraction layer for accessing data. The syntax of</text>
<text top="773" left="149" width="191" height="13" font="4">these functions is the same as R’s</text>
<text top="769" left="343" width="401" height="18" font="4">&#34;data.frame&#34; operation functions, such as [,[&lt;-,$,$&lt;-, merge, &#34;by&#34;</text>
<text top="789" left="149" width="199" height="13" font="4">etc. Arithmetic methods such as</text>
<text top="786" left="351" width="393" height="18" font="4">+,-,*,/, logical functions such as &gt;,&lt;,==,!=,&lt;=,&gt;=,!,|,&amp;, math</text>
<text top="805" left="149" width="102" height="13" font="4">functions such as</text>
<text top="802" left="255" width="267" height="18" font="4">log,exp,factorial etc. are all implemented.</text>
<text top="826" left="171" width="573" height="13" font="4">The layers that are built upon the table operations are the MADlib function wrappers and other</text>
<text top="843" left="149" width="355" height="13" font="4">functions, which will be covered in the subsequent sections.</text>
<text top="864" left="171" width="208" height="13" font="4">A graphical user interface using the</text>
<text top="864" left="382" width="34" height="13" font="7"><a href="http://CRAN.R-project.org/package=shiny"><b>shiny</b></a></text>
<text top="864" left="420" width="4" height="13" font="4"><a href="2014-1-qian.html#11">(</a></text>
<text top="864" left="424" width="72" height="13" font="6"><a href="2014-1-qian.html#11">RStudio Inc.</a></text>
<text top="864" left="496" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="864" left="502" width="26" height="13" font="6"><a href="2014-1-qian.html#11">2013</a></text>
<text top="864" left="529" width="215" height="13" font="4"><a href="2014-1-qian.html#11">) </a>package is also implemented. Right</text>
<text top="880" left="149" width="595" height="13" font="4">now it only provides the graphical interface to the MADlib wrapper functions, but we have the plan</text>
<text top="897" left="149" width="456" height="13" font="4">to provide the graphical access to all functionalities of <b>PivotalR </b>in the future.</text>
<text top="918" left="171" width="573" height="13" font="4">It is worth explaining more about how <b>PivotalR </b>operates on the tables. Before everything, the</text>
<text top="934" left="149" width="131" height="13" font="4">user needs to create a</text>
<text top="931" left="283" width="461" height="18" font="4">&#34;db.data.frame&#34; object, which is just a wrapper of the table. Any operation</text>
<text top="950" left="149" width="595" height="13" font="4">on this object is translated into an SQL query string. However, the SQL query is not executed at this</text>
<text top="967" left="148" width="287" height="13" font="4">point, and is instead stored in an object of class</text>
<text top="963" left="439" width="305" height="18" font="4">&#34;db.Rquery&#34; in R. When the user wants to execute</text>
<text top="983" left="149" width="231" height="13" font="4">the operation, he can call the function</text>
<text top="980" left="384" width="360" height="18" font="4">&#34;preview&#34; or &#34;lookat&#34; (or a shorthand &#34;lk&#34;) to execute the</text>
<text top="1000" left="149" width="595" height="13" font="4">operation and load part or all of the results into memory to view. The user can also choose to use</text>
<text top="1013" left="149" width="595" height="18" font="4">&#34;as.db.data.frame&#34; to execute the SQL query and save the result into a new table. This design gives</text>
<text top="1033" left="149" width="595" height="13" font="4">the user the freedom to choose when to load data into memory or create tables to store intermediate</text>
<text top="1049" left="149" width="598" height="13" font="4">data in the process of a calculation. It also avoids the risk of accidentally loading big data into memory.</text>
<text top="1070" left="171" width="454" height="13" font="4">In order to realize the above design, we use a class hierarchy shown in Fig.</text>
<text top="1070" left="628" width="7" height="13" font="6"><a href="2014-1-qian.html#3">2</a></text>
<text top="1070" left="635" width="109" height="13" font="4"><a href="2014-1-qian.html#3">. </a><b>PivotalR </b>uses S4</text>
<text top="1086" left="149" width="595" height="13" font="4">object-oriented programming extensively. All objects that are related to the data in the database belong</text>
<text top="1103" left="149" width="235" height="13" font="4">to subclasses of an abstract class named</text>
<text top="1099" left="388" width="79" height="18" font="4">&#34;db.object&#34;.</text>
<text top="1124" left="171" width="206" height="13" font="4">As has been mentioned, the class</text>
<text top="1120" left="382" width="362" height="18" font="4">&#34;db.data.frame&#34; is a wrapper of data objects stored in the</text>
<text top="1140" left="149" width="340" height="13" font="4">connected database. When it is created by the command</text>
<text top="1137" left="492" width="252" height="18" font="4">&#34;db.data.frame&#34;, no actual data stored in</text>
<text top="1210" left="148" width="220" height="15" font="0">The R Journal Vol. 6/1, June 2014</text>
<text top="1210" left="642" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="3" position="absolute" top="0" left="0" height="1262" width="892">
<text top="44" left="64" width="11" height="15" font="0">C</text>
<text top="47" left="75" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="44" left="166" width="10" height="15" font="0">R</text>
<text top="47" left="177" width="61" height="12" font="1">ESEARCH</text>
<text top="44" left="242" width="12" height="15" font="0">A</text>
<text top="47" left="254" width="53" height="12" font="1">RTICLES</text>
<text top="44" left="814" width="15" height="15" font="0">59</text>
<text top="341" left="149" width="53" height="13" font="3"><b>Figure 1:</b></text>
<text top="341" left="206" width="538" height="13" font="4">The structure of <b>PivotalR</b>. <b>PivotalR </b>accesses the data storage through an abstraction layer</text>
<text top="357" left="148" width="596" height="13" font="4">which wraps the functions that can directly access the database. Other types of data storages will be</text>
<text top="374" left="149" width="598" height="13" font="4">supported in the future. Right now it only supports connections to PostgreSQL, GPDB and HAWQ.</text>
<text top="390" left="148" width="596" height="13" font="4">Table operation functions are built upon the data accessing layer. They have the exact same interface</text>
<text top="407" left="149" width="35" height="13" font="4">as R’s</text>
<text top="403" left="188" width="556" height="18" font="4">&#34;data.frame&#34; operation functions. MADlib function wrappers and other functions are built</text>
<text top="423" left="149" width="521" height="13" font="4">upon the table operations. The graphical user interface makes the package easier to use.</text>
<text top="737" left="149" width="53" height="13" font="3"><b>Figure 2:</b></text>
<text top="737" left="206" width="538" height="13" font="4">The class hierarchy of <b>PivotalR</b>. This is not a UML figure. The square blocks represent the</text>
<text top="754" left="149" width="595" height="13" font="4">S4 classes. The arrows represent the conversion between the classes. The dashed arrows represent</text>
<text top="770" left="149" width="595" height="13" font="4">the various operations that convert the classes. The MADlib wrapper functions and preview/lookat</text>
<text top="787" left="149" width="392" height="13" font="4">function operate on both db.data.frame class and db.Rquery class.</text>
<text top="836" left="149" width="595" height="13" font="4">the data table in the database is transferred from the database to R. This object just contains some</text>
<text top="853" left="149" width="598" height="13" font="4">basic information about the data object in the database, such as dimensions and column names.</text>
<text top="866" left="149" width="595" height="18" font="4">&#34;db.data.frame&#34; has two sub-classes, &#34;db.table&#34; and &#34;db.view&#34;, which are wrappers for tables and</text>
<text top="886" left="148" width="112" height="13" font="4">views respectively.</text>
<text top="912" left="149" width="130" height="18" font="4">&gt; library(PivotalR)</text>
<text top="928" left="149" width="521" height="18" font="4">&gt; conn.id &lt;- db.connect(port = 14526, dbname = &#34;madlib&#34;, host = &#34;localhost&#34;)</text>
<text top="945" left="149" width="288" height="18" font="4">Created a connection to database with ID 1</text>
<text top="961" left="149" width="213" height="18" font="4">&gt; x &lt;- db.data.frame(&#34;abalone&#34;)</text>
<text top="994" left="171" width="83" height="13" font="4">The command</text>
<text top="991" left="257" width="489" height="18" font="4">&#34;db.connect&#34; in the abstraction layer is used to connect to one or multiple databases.</text>
<text top="1011" left="149" width="595" height="13" font="4">It has an optional parameter that lets the user select which package he wants to use to connect to the</text>
<text top="1027" left="149" width="510" height="13" font="4">databases, although only <b>RPostgreSQL </b>is supported right now. The returned value of</text>
<text top="1024" left="662" width="82" height="18" font="4">&#34;db.connect&#34;</text>
<text top="1044" left="149" width="595" height="13" font="4">is an integer which represents the database connection. <b>PivotalR </b>can connect to multiple databases at</text>
<text top="1060" left="149" width="595" height="13" font="4">the same time. Thus it is possible to train a machine learning model using the data from database 1 and</text>
<text top="1077" left="149" width="397" height="13" font="4">then make predictions using the data from database 2. One can use</text>
<text top="1073" left="549" width="195" height="18" font="4">&#34;db.disconnect&#34; to disconnect a</text>
<text top="1093" left="149" width="91" height="13" font="4">connection and</text>
<text top="1090" left="243" width="232" height="18" font="4">&#34;db.list&#34; to list all active connections.</text>
<text top="1114" left="171" width="220" height="13" font="4">Any operation on an object of the class</text>
<text top="1111" left="394" width="359" height="18" font="4">&#34;db.data.frame&#34; produces an object of the class &#34;db.Rquery&#34;.</text>
<text top="1130" left="148" width="128" height="13" font="4">An object of the class</text>
<text top="1127" left="279" width="465" height="18" font="4">&#34;db.Rquery&#34; resides entirely on the R side, and is a wrapper of operations on</text>
<text top="1147" left="149" width="7" height="13" font="4">a</text>
<text top="1144" left="159" width="585" height="18" font="4">&#34;db.data.frame&#34; object. Most operations on a &#34;db.Rquery&#34; object produces another &#34;db.Rquery&#34;</text>
<text top="1210" left="148" width="220" height="15" font="0">The R Journal Vol. 6/1, June 2014</text>
<text top="1210" left="642" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="4" position="absolute" top="0" left="0" height="1262" width="892">
<text top="44" left="64" width="11" height="15" font="0">C</text>
<text top="47" left="75" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="44" left="166" width="10" height="15" font="0">R</text>
<text top="47" left="177" width="61" height="12" font="1">ESEARCH</text>
<text top="44" left="242" width="12" height="15" font="0">A</text>
<text top="47" left="254" width="53" height="12" font="1">RTICLES</text>
<text top="44" left="814" width="15" height="15" font="0">60</text>
<text top="103" left="149" width="124" height="13" font="4">object. Essentially, a</text>
<text top="100" left="277" width="467" height="18" font="4">&#34;db.Rquery&#34; object is just a container of a string of SQL query, which can be</text>
<text top="120" left="148" width="172" height="13" font="4">viewed using the command</text>
<text top="116" left="324" width="420" height="18" font="4">&#34;content&#34;. The command &#34;as.db.data.frame&#34; creates a table in the</text>
<text top="136" left="149" width="360" height="13" font="4">database using the results of the SQL query contained in a</text>
<text top="133" left="513" width="231" height="18" font="4">&#34;db.Rquery&#34; object and then creates a</text>
<text top="149" left="149" width="301" height="18" font="4">&#34;db.data.frame&#34; wrapper that points to this table.</text>
<text top="170" left="171" width="575" height="18" font="4">&#34;preview&#34; (or its alias &#34;lookat&#34; and &#34;lk&#34;) transfers the data from the database into R’s memory.</text>
<text top="190" left="149" width="595" height="13" font="4">By default it fetches 100 rows of data from the table in the database and converts the data into a</text>
<text top="203" left="149" width="113" height="18" font="4">&#34;data.frame&#34; in R.</text>
<text top="233" left="149" width="110" height="18" font="4">&gt; lookat (x, 10)</text>
<text top="249" left="169" width="439" height="18" font="4">id sex length diameter height whole shucked viscera shell rings</text>
<text top="266" left="149" width="7" height="18" font="4">1</text>
<text top="266" left="176" width="7" height="18" font="4">4</text>
<text top="266" left="204" width="55" height="18" font="4">M 0.440</text>
<text top="266" left="286" width="281" height="18" font="4">0.365 0.125 0.5160 0.2155 0.1140 0.155</text>
<text top="266" left="595" width="14" height="18" font="4">10</text>
<text top="282" left="149" width="7" height="18" font="4">2</text>
<text top="282" left="176" width="7" height="18" font="4">8</text>
<text top="282" left="204" width="55" height="18" font="4">F 0.545</text>
<text top="282" left="286" width="281" height="18" font="4">0.425 0.125 0.7680 0.2940 0.1495 0.260</text>
<text top="282" left="595" width="14" height="18" font="4">16</text>
<text top="298" left="149" width="34" height="18" font="4">3 12</text>
<text top="298" left="204" width="55" height="18" font="4">M 0.430</text>
<text top="298" left="286" width="281" height="18" font="4">0.350 0.110 0.4060 0.1675 0.0810 0.135</text>
<text top="298" left="595" width="14" height="18" font="4">10</text>
<text top="315" left="149" width="34" height="18" font="4">4 16</text>
<text top="315" left="204" width="55" height="18" font="4">M 0.500</text>
<text top="315" left="286" width="281" height="18" font="4">0.400 0.130 0.6645 0.2580 0.1330 0.240</text>
<text top="315" left="595" width="14" height="18" font="4">12</text>
<text top="331" left="149" width="34" height="18" font="4">5 20</text>
<text top="331" left="204" width="55" height="18" font="4">M 0.450</text>
<text top="331" left="286" width="281" height="18" font="4">0.320 0.100 0.3810 0.1705 0.0750 0.115</text>
<text top="331" left="602" width="7" height="18" font="4">9</text>
<text top="348" left="149" width="34" height="18" font="4">6 24</text>
<text top="348" left="204" width="55" height="18" font="4">F 0.550</text>
<text top="348" left="286" width="281" height="18" font="4">0.415 0.135 0.7635 0.3180 0.2100 0.200</text>
<text top="348" left="602" width="7" height="18" font="4">9</text>
<text top="364" left="149" width="34" height="18" font="4">7 28</text>
<text top="364" left="204" width="55" height="18" font="4">M 0.590</text>
<text top="364" left="286" width="281" height="18" font="4">0.445 0.140 0.9310 0.3560 0.2340 0.280</text>
<text top="364" left="595" width="14" height="18" font="4">12</text>
<text top="381" left="149" width="34" height="18" font="4">8 32</text>
<text top="381" left="204" width="55" height="18" font="4">F 0.680</text>
<text top="381" left="286" width="281" height="18" font="4">0.560 0.165 1.6390 0.6055 0.2805 0.460</text>
<text top="381" left="595" width="14" height="18" font="4">15</text>
<text top="397" left="149" width="34" height="18" font="4">9 36</text>
<text top="397" left="204" width="55" height="18" font="4">M 0.465</text>
<text top="397" left="286" width="281" height="18" font="4">0.355 0.105 0.4795 0.2270 0.1240 0.125</text>
<text top="397" left="602" width="7" height="18" font="4">8</text>
<text top="414" left="149" width="34" height="18" font="4">10 40</text>
<text top="414" left="204" width="55" height="18" font="4">M 0.355</text>
<text top="414" left="286" width="281" height="18" font="4">0.290 0.090 0.3275 0.1340 0.0860 0.090</text>
<text top="414" left="602" width="7" height="18" font="4">9</text>
<text top="447" left="171" width="273" height="13" font="4">The MADlib wrappers can be applied to both</text>
<text top="443" left="448" width="296" height="18" font="4">&#34;db.data.frame&#34; and &#34;db.Rquery&#34; objects. When</text>
<text top="463" left="149" width="262" height="13" font="4">a MADlib wrapper function is applied to a</text>
<text top="460" left="414" width="330" height="18" font="4">&#34;db.Rquery&#34; object, a temporary table is created using</text>
<text top="476" left="149" width="595" height="18" font="4">as.db.data.frame. MADlib is an in-database library and we have to convert &#34;db.Rquery&#34; into an</text>
<text top="496" left="149" width="595" height="13" font="4">object inside the database so that we could apply MADlib functions to it. This temporary table is</text>
<text top="513" left="149" width="233" height="13" font="4">dropped after the computation is done.</text>
<text top="534" left="171" width="573" height="13" font="4">The design of <b>PivotalR </b>minimizes the amount of data that needs to be transferred between the</text>
<text top="550" left="149" width="437" height="13" font="4">database and R. The only function that transfers data from the database is</text>
<text top="547" left="590" width="65" height="18" font="4">&#34;preview&#34;.</text>
<text top="595" left="149" width="325" height="17" font="5"><b>Manipulation of data tables in database</b></text>
<text top="634" left="148" width="451" height="13" font="4">As has been mentioned, <b>PivotalR </b>overloads many methods that operate on</text>
<text top="630" left="602" width="142" height="18" font="4">&#34;data.frame&#34;, and thus</text>
<text top="650" left="149" width="152" height="13" font="4">lets the operations on the</text>
<text top="647" left="305" width="439" height="18" font="4">&#34;db.obj&#34; objects mimic those on &#34;data.frame&#34; as much as possible, with</text>
<text top="666" left="149" width="250" height="13" font="4">one important difference discussed below.</text>
<text top="693" left="149" width="219" height="18" font="4">&gt; x &lt;- db.data.frame (&#34;abalone&#34;)</text>
<text top="709" left="149" width="62" height="18" font="4">&gt; dim (x)</text>
<text top="726" left="149" width="55" height="18" font="4">[1] 4177</text>
<text top="726" left="224" width="14" height="18" font="4">10</text>
<text top="742" left="149" width="75" height="18" font="4">&gt; names (x)</text>
<text top="759" left="156" width="55" height="18" font="4">[1] &#34;id&#34;</text>
<text top="759" left="259" width="34" height="18" font="4">&#34;sex&#34;</text>
<text top="759" left="334" width="55" height="18" font="4">&#34;length&#34;</text>
<text top="759" left="409" width="130" height="18" font="4">&#34;diameter&#34; &#34;height&#34;</text>
<text top="759" left="560" width="48" height="18" font="4">&#34;whole&#34;</text>
<text top="775" left="156" width="226" height="18" font="4">[7] &#34;shucked&#34; &#34;viscera&#34; &#34;shell&#34;</text>
<text top="775" left="409" width="48" height="18" font="4">&#34;rings&#34;</text>
<text top="792" left="149" width="192" height="18" font="4">&gt; x$rings &lt;- x$rings + 2 / 3</text>
<text top="808" left="149" width="302" height="18" font="4">&gt; x$newCol &lt;- (x$rings + x[['length']]) &lt; 10</text>
<text top="824" left="149" width="82" height="18" font="4">&gt; content(x)</text>
<text top="841" left="149" width="514" height="18" font="4">[1] &#34;select \&#34;id\&#34; as \&#34;id\&#34;, \&#34;sex\&#34; as \&#34;sex\&#34;, \&#34;length\&#34; as \&#34;length\&#34;,</text>
<text top="857" left="149" width="542" height="18" font="4">\&#34;diameter\&#34; as \&#34;diameter\&#34;, \&#34;height\&#34; as \&#34;height\&#34;, \&#34;whole\&#34; as \&#34;whole\&#34;,</text>
<text top="874" left="149" width="542" height="18" font="4">\&#34;shucked\&#34; as \&#34;shucked\&#34;, \&#34;viscera\&#34; as \&#34;viscera\&#34;, \&#34;shell\&#34; as \&#34;shell\&#34;,</text>
<text top="890" left="149" width="432" height="18" font="4">(\&#34;rings\&#34;)::double precision + 0.666666666666667 as \&#34;rings\&#34;,</text>
<text top="907" left="149" width="480" height="18" font="4">(((\&#34;rings\&#34;)::double precision + 0.666666666666667)::double precision</text>
<text top="923" left="149" width="480" height="18" font="4">+ (\&#34;length\&#34;))::double precision &lt; 10 as \&#34;newCol\&#34; from \&#34;abalone\&#34;&#34;</text>
<text top="956" left="149" width="29" height="13" font="4">Here</text>
<text top="953" left="180" width="564" height="18" font="4">&#34;content&#34; displays the SQL query stored in the &#34;db.Rquery&#34;. The quotes inside the SQL query is</text>
<text top="973" left="149" width="380" height="13" font="4">used to deal with column or table names with special characters.</text>
<text top="969" left="533" width="211" height="18" font="4">x was originally a &#34;db.data.frame&#34;</text>
<text top="989" left="149" width="176" height="13" font="4">object, but was converted to a</text>
<text top="986" left="329" width="400" height="18" font="4">&#34;db.Rquery&#34; object by the operation x$rings &lt;- x$rings + 2 / 3.</text>
<text top="1010" left="171" width="73" height="13" font="4">As long as a</text>
<text top="1007" left="247" width="497" height="18" font="4">&#34;key&#34; is specified when the user calls &#34;db.data.frame&#34; function, the syntax A[3,4]</text>
<text top="1027" left="149" width="216" height="13" font="4">can be used. Here the first number</text>
<text top="1023" left="369" width="377" height="18" font="4">&#34;3&#34; means that the key column has the value of 3. Therefore,</text>
<text top="1040" left="149" width="597" height="18" font="4">lk(A[3,4],-1) may return multiple values. This is different from the behavior of &#34;data.frame&#34;,</text>
<text top="1060" left="148" width="36" height="13" font="4">where</text>
<text top="1056" left="188" width="556" height="18" font="4">A[3,4] returns the element on 3-rd row and 4-th column. This difference is related to the lack of</text>
<text top="1076" left="149" width="465" height="13" font="4">intrinsic order in the database tables, which will be discussed in the following.</text>
<text top="1097" left="171" width="78" height="13" font="4">The rows of a</text>
<text top="1093" left="252" width="492" height="18" font="4">&#34;data.frame&#34; object have an intrinsic order, which makes the operations that involve</text>
<text top="1113" left="149" width="23" height="13" font="4">two</text>
<text top="1110" left="175" width="569" height="18" font="4">&#34;data.frame&#34; objects easier to define. For example, it is straightforward to define the subtraction</text>
<text top="1130" left="149" width="192" height="13" font="4">of two columns of two different</text>
<text top="1126" left="344" width="400" height="18" font="4">&#34;data.frame&#34; objects by matching the order of the rows as long as</text>
<text top="1146" left="149" width="216" height="13" font="4">they have the same number of rows.</text>
<text top="1210" left="148" width="220" height="15" font="0">The R Journal Vol. 6/1, June 2014</text>
<text top="1210" left="642" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="5" position="absolute" top="0" left="0" height="1262" width="892">
	<fontspec id="8" size="10" family="Times" color="#000000"/>
<text top="44" left="64" width="11" height="15" font="0">C</text>
<text top="47" left="75" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="44" left="166" width="10" height="15" font="0">R</text>
<text top="47" left="177" width="61" height="12" font="1">ESEARCH</text>
<text top="44" left="242" width="12" height="15" font="0">A</text>
<text top="47" left="254" width="53" height="12" font="1">RTICLES</text>
<text top="44" left="814" width="15" height="15" font="0">61</text>
<text top="103" left="171" width="575" height="13" font="4">On the other hand, the tables in the database do not have an intrinsic order for the rows. Thus,</text>
<text top="120" left="149" width="595" height="13" font="4">most operations like subtraction, addition etc. can only be defined for columns belonging to the same</text>
<text top="136" left="149" width="595" height="13" font="4">table. However, this is usually not a problem. Whenever the user wants to do an operation that</text>
<text top="152" left="149" width="346" height="13" font="4">involves two tables, he/she should first call the function</text>
<text top="149" left="498" width="246" height="18" font="4">&#34;merge&#34; to create a new table (actually a</text>
<text top="165" left="149" width="595" height="18" font="4">&#34;db.Rquery&#34; object) from the two tables and at the same time explicitly specify how to match the</text>
<text top="185" left="149" width="595" height="13" font="4">rows of the two different tables. Then, the user can easily do operations on the new table. While</text>
<text top="202" left="149" width="18" height="13" font="4">R’s</text>
<text top="198" left="171" width="574" height="18" font="4">&#34;data.frame&#34; implicitly uses the intrinsic order of the rows to match the rows from two different</text>
<text top="218" left="149" width="281" height="13" font="4">data.frames, this needs to be explicitly done for</text>
<text top="215" left="433" width="231" height="18" font="4">&#34;db.data.frame&#34; objects. For example,</text>
<text top="241" left="149" width="213" height="18" font="4">&gt; x &lt;- db.data.frame(&#34;abalone&#34;)</text>
<text top="258" left="149" width="213" height="18" font="4">&gt; y &lt;- db.data.frame(&#34;abalone&#34;)</text>
<text top="274" left="149" width="364" height="18" font="4">&gt; z &lt;- merge(x, y, by = NULL) # cross join two tables</text>
<text top="291" left="149" width="69" height="18" font="4">&gt; names(z)</text>
<text top="307" left="156" width="69" height="18" font="4">[1] &#34;id_x&#34;</text>
<text top="307" left="272" width="48" height="18" font="4">&#34;sex_x&#34;</text>
<text top="307" left="361" width="69" height="18" font="4">&#34;length_x&#34;</text>
<text top="307" left="451" width="158" height="18" font="4">&#34;diameter_x&#34; &#34;height_x&#34;</text>
<text top="324" left="156" width="89" height="18" font="4">[6] &#34;whole_x&#34;</text>
<text top="324" left="272" width="240" height="18" font="4">&#34;shucked_x&#34; &#34;viscera_x&#34; &#34;shell_x&#34;</text>
<text top="324" left="540" width="62" height="18" font="4">&#34;rings_x&#34;</text>
<text top="340" left="149" width="75" height="18" font="4">[11] &#34;id_y&#34;</text>
<text top="340" left="272" width="48" height="18" font="4">&#34;sex_y&#34;</text>
<text top="340" left="361" width="69" height="18" font="4">&#34;length_y&#34;</text>
<text top="340" left="451" width="158" height="18" font="4">&#34;diameter_y&#34; &#34;height_y&#34;</text>
<text top="357" left="149" width="96" height="18" font="4">[16] &#34;whole_y&#34;</text>
<text top="357" left="272" width="240" height="18" font="4">&#34;shucked_y&#34; &#34;viscera_y&#34; &#34;shell_y&#34;</text>
<text top="357" left="540" width="62" height="18" font="4">&#34;rings_y&#34;</text>
<text top="373" left="149" width="336" height="18" font="4">&gt; z$sex_x == z$sex_y # This is a db.Rquery object</text>
<text top="403" left="171" width="99" height="13" font="4">The data frame ‘</text>
<text top="404" left="270" width="45" height="11" font="8">abalone</text>
<text top="403" left="315" width="430" height="13" font="4">’ is lazy-loaded in <b>PivotalR</b>. It is used as an example data here. One can</text>
<text top="420" left="149" width="20" height="13" font="4">use</text>
<text top="416" left="172" width="572" height="18" font="4">as.db.data.frame to transfer this data set into a table in the database and at the same time create</text>
<text top="436" left="149" width="139" height="13" font="4">a wrapper for the table.</text>
<text top="462" left="149" width="295" height="18" font="4">&gt; x &lt;- as.db.data.frame(abalone, conn.id=1)</text>
<text top="479" left="149" width="425" height="18" font="4">The data in the data.frame abalone is stored into the table in</text>
<text top="495" left="149" width="206" height="18" font="4">database madlib on localhost !</text>
<text top="528" left="171" width="411" height="13" font="4">All the subsequent operations will be applied on the table wrapper</text>
<text top="525" left="586" width="158" height="18" font="4">x. A sample of the data is</text>
<text top="544" left="149" width="182" height="13" font="4">shown in the following, where</text>
<text top="541" left="334" width="368" height="18" font="4">sort is used to create a sorting operation on the original table.</text>
<text top="568" left="149" width="466" height="18" font="4">&gt; lookat(sort(x, FALSE, x$id), 10) # load 10 rows of the sorted data</text>
<text top="584" left="169" width="439" height="18" font="4">id sex length diameter height whole shucked viscera shell rings</text>
<text top="601" left="149" width="7" height="18" font="4">1</text>
<text top="601" left="176" width="7" height="18" font="4">1</text>
<text top="601" left="204" width="55" height="18" font="4">M 0.455</text>
<text top="601" left="286" width="281" height="18" font="4">0.365 0.095 0.5140 0.2245 0.1010 0.150</text>
<text top="601" left="595" width="14" height="18" font="4">15</text>
<text top="617" left="149" width="7" height="18" font="4">2</text>
<text top="617" left="176" width="7" height="18" font="4">2</text>
<text top="617" left="204" width="55" height="18" font="4">M 0.350</text>
<text top="617" left="286" width="281" height="18" font="4">0.265 0.090 0.2255 0.0995 0.0485 0.070</text>
<text top="617" left="602" width="7" height="18" font="4">7</text>
<text top="633" left="149" width="7" height="18" font="4">3</text>
<text top="633" left="176" width="7" height="18" font="4">3</text>
<text top="633" left="204" width="55" height="18" font="4">F 0.530</text>
<text top="633" left="286" width="281" height="18" font="4">0.420 0.135 0.6770 0.2565 0.1415 0.210</text>
<text top="633" left="602" width="7" height="18" font="4">9</text>
<text top="650" left="149" width="7" height="18" font="4">4</text>
<text top="650" left="176" width="7" height="18" font="4">4</text>
<text top="650" left="204" width="55" height="18" font="4">M 0.440</text>
<text top="650" left="286" width="281" height="18" font="4">0.365 0.125 0.5160 0.2155 0.1140 0.155</text>
<text top="650" left="595" width="14" height="18" font="4">10</text>
<text top="666" left="149" width="7" height="18" font="4">5</text>
<text top="666" left="176" width="7" height="18" font="4">5</text>
<text top="666" left="204" width="55" height="18" font="4">I 0.330</text>
<text top="666" left="286" width="281" height="18" font="4">0.255 0.080 0.2050 0.0895 0.0395 0.055</text>
<text top="666" left="602" width="7" height="18" font="4">7</text>
<text top="683" left="149" width="7" height="18" font="4">6</text>
<text top="683" left="176" width="7" height="18" font="4">6</text>
<text top="683" left="204" width="55" height="18" font="4">I 0.425</text>
<text top="683" left="286" width="281" height="18" font="4">0.300 0.095 0.3515 0.1410 0.0775 0.120</text>
<text top="683" left="602" width="7" height="18" font="4">8</text>
<text top="699" left="149" width="7" height="18" font="4">7</text>
<text top="699" left="176" width="7" height="18" font="4">7</text>
<text top="699" left="204" width="55" height="18" font="4">F 0.530</text>
<text top="699" left="286" width="281" height="18" font="4">0.415 0.150 0.7775 0.2370 0.1415 0.330</text>
<text top="699" left="595" width="14" height="18" font="4">20</text>
<text top="716" left="149" width="7" height="18" font="4">8</text>
<text top="716" left="176" width="7" height="18" font="4">8</text>
<text top="716" left="204" width="55" height="18" font="4">F 0.545</text>
<text top="716" left="286" width="281" height="18" font="4">0.425 0.125 0.7680 0.2940 0.1495 0.260</text>
<text top="716" left="595" width="14" height="18" font="4">16</text>
<text top="732" left="149" width="7" height="18" font="4">9</text>
<text top="732" left="176" width="7" height="18" font="4">9</text>
<text top="732" left="204" width="55" height="18" font="4">M 0.475</text>
<text top="732" left="286" width="281" height="18" font="4">0.370 0.125 0.5095 0.2165 0.1125 0.165</text>
<text top="732" left="602" width="7" height="18" font="4">9</text>
<text top="749" left="149" width="34" height="18" font="4">10 10</text>
<text top="749" left="204" width="55" height="18" font="4">F 0.550</text>
<text top="749" left="286" width="281" height="18" font="4">0.440 0.150 0.8945 0.3145 0.1510 0.320</text>
<text top="749" left="595" width="14" height="18" font="4">19</text>
<text top="779" left="171" width="362" height="13" font="4">Finally, I want to reiterate that all these operations done on</text>
<text top="775" left="537" width="207" height="18" font="4">&#34;db.data.frame&#34; are not executed</text>
<text top="795" left="149" width="134" height="13" font="4">immediately. Instead a</text>
<text top="792" left="286" width="458" height="18" font="4">&#34;db.Rquery&#34; object is produced. The user can convert it into a real table using</text>
<text top="808" left="149" width="113" height="18" font="4">as.db.data.frame.</text>
<text top="856" left="149" width="225" height="17" font="5"><b>MADlib wrapper functions</b></text>
<text top="895" left="149" width="513" height="13" font="4">In the next, we show some examples of MADlib wrapper functions. As is shown in Fig.</text>
<text top="895" left="665" width="7" height="13" font="6"><a href="2014-1-qian.html#3">2</a></text>
<text top="895" left="671" width="73" height="13" font="4"><a href="2014-1-qian.html#3">, </a>all MADlib</text>
<text top="912" left="148" width="215" height="13" font="4">wrapper functions can be applied to</text>
<text top="908" left="366" width="378" height="18" font="4">&#34;db.obj&#34; objects. Because the connection information is already</text>
<text top="928" left="149" width="72" height="13" font="4">contained in</text>
<text top="925" left="225" width="522" height="18" font="4">&#34;db.obj&#34; objects, we do not need to specify &#34;conn.id&#34; in the MADlib wrapper functions.</text>
<text top="949" left="171" width="461" height="13" font="4">First, we show several examples of linear regression. Basically, <b>PivotalR</b>’s</text>
<text top="945" left="637" width="107" height="18" font="4">&#34;madlib.lm&#34; uses</text>
<text top="965" left="149" width="172" height="13" font="4">the same formula syntax as</text>
<text top="962" left="326" width="418" height="18" font="4">&#34;lm&#34;. Because MADlib’s linear regression supports fitting separate</text>
<text top="982" left="149" width="597" height="13" font="4">linear regression models on sub-groups of the data, which are grouped by one or multiple columns,</text>
<text top="995" left="149" width="595" height="18" font="4">&#34;madlib.lm&#34; allows &#34;|&#34; in the formula, which means that the model is fit on a subset of the data</text>
<text top="1015" left="149" width="273" height="13" font="4">conditioned on the value of the variables after</text>
<text top="1011" left="425" width="24" height="18" font="4">&#34;|&#34;.</text>
<text top="1038" left="149" width="466" height="18" font="4">&gt; ## fit one different model to each group of data with the same sex</text>
<text top="1054" left="149" width="343" height="18" font="4">&gt; fit &lt;- madlib.lm(rings ~ . - id | sex, data = x)</text>
<text top="1081" left="149" width="595" height="18" font="4">sex has 3 distinct values, and thus fit is a list of 3 elements. Each element is the linear regression</text>
<text top="1101" left="149" width="461" height="13" font="4">model for a subset of the data. The mean square error can be easily computed</text>
<text top="1127" left="149" width="329" height="18" font="4">&gt; ## apply the model to data in another database</text>
<text top="1144" left="149" width="446" height="18" font="4">&gt; lookat(mean((x$rings - predict(fit, x))^2)) # mean square error</text>
<text top="1210" left="148" width="220" height="15" font="0">The R Journal Vol. 6/1, June 2014</text>
<text top="1210" left="642" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="6" position="absolute" top="0" left="0" height="1262" width="892">
	<fontspec id="9" size="10" family="Helvetica" color="#000000"/>
	<fontspec id="10" size="10" family="Helvetica" color="#000000"/>
	<fontspec id="11" size="17" family="Helvetica" color="#000000"/>
	<fontspec id="12" size="17" family="Helvetica" color="#000000"/>
<text top="44" left="64" width="11" height="15" font="0">C</text>
<text top="47" left="75" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="44" left="166" width="10" height="15" font="0">R</text>
<text top="47" left="177" width="61" height="12" font="1">ESEARCH</text>
<text top="44" left="242" width="12" height="15" font="0">A</text>
<text top="47" left="254" width="53" height="12" font="1">RTICLES</text>
<text top="44" left="814" width="15" height="15" font="0">62</text>
<text top="100" left="163" width="219" height="18" font="4">rings_madlib_predict_opr_opr_avg</text>
<text top="116" left="149" width="7" height="18" font="4">1</text>
<text top="116" left="327" width="55" height="18" font="4">4.647291</text>
<text top="147" left="171" width="573" height="13" font="4">We can plot a random sample of the fitted values together with the real values, as is shown in</text>
<text top="163" left="149" width="22" height="13" font="4">Fig.</text>
<text top="163" left="174" width="7" height="13" font="6"><a href="2014-1-qian.html#6">3</a></text>
<text top="163" left="181" width="563" height="13" font="4"><a href="2014-1-qian.html#6">. </a>We can also select one model from the fitting result to plot, as is shown in the comments of the</text>
<text top="180" left="149" width="114" height="13" font="4">following snippets.</text>
<text top="204" left="149" width="137" height="18" font="4">&gt; ## plot the result</text>
<text top="220" left="149" width="418" height="18" font="4">&gt; ap &lt;- cbind(x$rings, predict(fit, x)) # combine two columns</text>
<text top="237" left="149" width="446" height="18" font="4">&gt; plot(lookat(sort(ap, FALSE, NULL), 100)) # plot a random sample</text>
<text top="253" left="149" width="521" height="18" font="4">&gt; ## ap &lt;- cbind(x$rings[x$sex == &#34;I&#34;], predict(fit[[1]], x[x$sex == &#34;I&#34;,]))</text>
<text top="270" left="149" width="466" height="18" font="4">&gt; ## plot(lookat(sort(ap, FALSE, NULL), 100)) # plot a random sample</text>
<text top="580" left="305" width="7" height="12" font="9">5</text>
<text top="580" left="419" width="14" height="12" font="9">10</text>
<text top="580" left="537" width="14" height="12" font="9">15</text>
<text top="545" left="262" width="0" height="12" font="10">4</text>
<text top="512" left="262" width="0" height="12" font="10">6</text>
<text top="478" left="262" width="0" height="12" font="10">8</text>
<text top="448" left="262" width="0" height="12" font="10">10</text>
<text top="414" left="262" width="0" height="12" font="10">12</text>
<text top="381" left="262" width="0" height="12" font="10">14</text>
<text top="347" left="262" width="0" height="12" font="10">16</text>
<text top="591" left="441" width="42" height="18" font="11">rings</text>
<text top="499" left="247" width="0" height="18" font="12">madlib_predict</text>
<text top="640" left="370" width="53" height="13" font="3"><b>Figure 3:</b></text>
<text top="640" left="427" width="96" height="13" font="4">The sample plot</text>
<text top="676" left="171" width="291" height="13" font="4">Support for categorical variables is done through</text>
<text top="672" left="466" width="274" height="18" font="4">&#34;as.factor&#34;, as is shown in the next example.</text>
<text top="700" left="149" width="55" height="18" font="4">&gt; v &lt;- x</text>
<text top="716" left="149" width="405" height="18" font="4">&gt; v$sex &lt;- as.factor(v$sex) # specify which column to pivot</text>
<text top="733" left="149" width="288" height="18" font="4">&gt; f &lt;- madlib.lm(rings ~ . - id, data = v)</text>
<text top="749" left="149" width="21" height="18" font="4">&gt; f</text>
<text top="765" left="149" width="213" height="18" font="4">MADlib Linear Regression Result</text>
<text top="798" left="149" width="34" height="18" font="4">Call:</text>
<text top="815" left="149" width="309" height="18" font="4">madlib.lm(formula = rings ~ . - id, data = v)</text>
<text top="848" left="149" width="268" height="18" font="4">---------------------------------------</text>
<text top="880" left="149" width="89" height="18" font="4">Coefficients:</text>
<text top="897" left="238" width="192" height="18" font="4">Estimate Std. Error t value</text>
<text top="897" left="478" width="55" height="18" font="4">Pr(&gt;|t|)</text>
<text top="913" left="149" width="75" height="18" font="4">(Intercept)</text>
<text top="913" left="245" width="48" height="18" font="4">3.89464</text>
<text top="913" left="320" width="213" height="18" font="4">0.29157 13.3576 6.992e-40 ***</text>
<text top="930" left="149" width="34" height="18" font="4">sex:M</text>
<text top="930" left="245" width="48" height="18" font="4">0.05772</text>
<text top="930" left="320" width="48" height="18" font="4">0.08335</text>
<text top="930" left="389" width="117" height="18" font="4">0.6925 4.887e-01</text>
<text top="946" left="149" width="34" height="18" font="4">sex:I</text>
<text top="946" left="238" width="55" height="18" font="4">-0.82488</text>
<text top="946" left="320" width="213" height="18" font="4">0.10240 -8.0558 1.022e-15 ***</text>
<text top="963" left="149" width="41" height="18" font="4">length</text>
<text top="963" left="238" width="55" height="18" font="4">-0.45834</text>
<text top="963" left="320" width="185" height="18" font="4">1.80912 -0.2533 8.000e-01</text>
<text top="979" left="149" width="55" height="18" font="4">diameter</text>
<text top="979" left="238" width="55" height="18" font="4">11.07510</text>
<text top="979" left="320" width="48" height="18" font="4">2.22728</text>
<text top="979" left="389" width="144" height="18" font="4">4.9725 6.876e-07 ***</text>
<text top="996" left="149" width="41" height="18" font="4">height</text>
<text top="996" left="238" width="55" height="18" font="4">10.76154</text>
<text top="996" left="320" width="48" height="18" font="4">1.53620</text>
<text top="996" left="389" width="144" height="18" font="4">7.0053 2.861e-12 ***</text>
<text top="1012" left="149" width="34" height="18" font="4">whole</text>
<text top="1012" left="245" width="48" height="18" font="4">8.97544</text>
<text top="1012" left="320" width="213" height="18" font="4">0.72540 12.3730 1.469e-34 ***</text>
<text top="1028" left="149" width="48" height="18" font="4">shucked</text>
<text top="1028" left="231" width="62" height="18" font="4">-19.78687</text>
<text top="1028" left="320" width="213" height="18" font="4">0.81735 -24.2086 2.988e-121 ***</text>
<text top="1045" left="149" width="48" height="18" font="4">viscera</text>
<text top="1045" left="231" width="62" height="18" font="4">-10.58183</text>
<text top="1045" left="320" width="213" height="18" font="4">1.29375 -8.1792 3.757e-16 ***</text>
<text top="1061" left="149" width="34" height="18" font="4">shell</text>
<text top="1061" left="245" width="48" height="18" font="4">8.74181</text>
<text top="1061" left="320" width="48" height="18" font="4">1.12473</text>
<text top="1061" left="389" width="144" height="18" font="4">7.7723 9.639e-15 ***</text>
<text top="1078" left="149" width="21" height="18" font="4">---</text>
<text top="1094" left="149" width="425" height="18" font="4">Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</text>
<text top="1127" left="149" width="137" height="18" font="4">R-squared: 0.5378844</text>
<text top="1144" left="149" width="178" height="18" font="4">Condition Number: 137.2694</text>
<text top="1210" left="148" width="220" height="15" font="0">The R Journal Vol. 6/1, June 2014</text>
<text top="1210" left="642" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="7" position="absolute" top="0" left="0" height="1262" width="892">
<text top="44" left="64" width="11" height="15" font="0">C</text>
<text top="47" left="75" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="44" left="166" width="10" height="15" font="0">R</text>
<text top="47" left="177" width="61" height="12" font="1">ESEARCH</text>
<text top="44" left="242" width="12" height="15" font="0">A</text>
<text top="47" left="254" width="53" height="12" font="1">RTICLES</text>
<text top="44" left="814" width="15" height="15" font="0">63</text>
<text top="103" left="171" width="49" height="13" font="4">Because</text>
<text top="100" left="223" width="521" height="18" font="4">extractAIC methods are implemented for the result of madlib.lm and madlib.glm, one</text>
<text top="120" left="149" width="66" height="13" font="4">can use R’s</text>
<text top="116" left="218" width="205" height="18" font="4">step function for feature selection.</text>
<text top="143" left="163" width="439" height="18" font="4">fit &lt;- madlib.glm(rings &lt; 10 ~ ., data = x, family = &#34;binomial&#34;)</text>
<text top="160" left="163" width="62" height="18" font="4">step(fit)</text>
<text top="190" left="148" width="542" height="13" font="4">This is a good example of how R’s analytical functionalities can be combined with MADlib.</text>
<text top="211" left="171" width="548" height="13" font="4">In the next example, we use the bootstrap aggregate method to fit a linear model to the data.</text>
<text top="237" left="163" width="123" height="18" font="4">## generic bagging</text>
<text top="254" left="163" width="268" height="18" font="4">fit &lt;- generic.bagging(function(data) {</text>
<text top="270" left="341" width="302" height="18" font="4">madlib.lm(rings ~ . - id - sex, data = data)</text>
<text top="287" left="320" width="14" height="18" font="4">},</text>
<text top="303" left="320" width="261" height="18" font="4">data = x, nbags = 10, fraction = 0.85)</text>
<text top="336" left="163" width="350" height="18" font="4">pred &lt;- predict(fit, newdata = x) # make prediction</text>
<text top="369" left="163" width="219" height="18" font="4">lookat(mean((x$rings - pred)^2))</text>
<text top="402" left="171" width="49" height="13" font="4">Just like</text>
<text top="399" left="224" width="520" height="18" font="4">&#34;glm&#34; in the <b>stats </b>package, <b>PivotalR </b>provides &#34;madlib.glm&#34;, which can do both linear</text>
<text top="418" left="149" width="289" height="13" font="4">and logistic regressions. The usage is similar to</text>
<text top="415" left="442" width="231" height="18" font="4">glm. Please refer to <b>PivotalR </b>manual <a href="2014-1-qian.html#11">(</a></text>
<text top="418" left="673" width="69" height="13" font="6"><a href="2014-1-qian.html#11">Pivotal Inc.</a></text>
<text top="418" left="742" width="3" height="13" font="4"><a href="2014-1-qian.html#11">,</a></text>
<text top="435" left="149" width="35" height="13" font="6"><a href="2014-1-qian.html#11">2013d</a></text>
<text top="435" left="184" width="71" height="13" font="4"><a href="2014-1-qian.html#11">) </a>for details.</text>
<text top="480" left="149" width="216" height="17" font="5"><b>Support for array columns</b></text>
<text top="519" left="149" width="595" height="13" font="4">Both Greenplum and Postgres databases have an upper limit for the number of columns in a data</text>
<text top="535" left="149" width="595" height="13" font="4">table. The upper limit depends on the column data types, but is usually around 1600. If the big data</text>
<text top="551" left="149" width="597" height="13" font="4">set has more features, the only workaround is to use an array column to encapsulate all the features,</text>
<text top="568" left="149" width="415" height="13" font="4">because there is no limit for how many elements an array can contain.</text>
<text top="589" left="171" width="53" height="13" font="3"><b>PivotalR</b></text>
<text top="589" left="228" width="434" height="13" font="4">has full support for such array columns, as is shown in the next example.</text>
<text top="615" left="149" width="370" height="18" font="4">&gt; z &lt;- db.data.frame(&#34;madlibtestdata.lin_auto_mpg_oi&#34;)</text>
<text top="632" left="149" width="103" height="18" font="4">&gt; lookat(z, 10)</text>
<text top="648" left="169" width="206" height="18" font="4">x.1 x.2 x.3 x.4 x.5 x.6 x.7 y</text>
<text top="665" left="149" width="7" height="18" font="4">1</text>
<text top="665" left="190" width="144" height="18" font="4">8 383 170 3563 10.0</text>
<text top="665" left="355" width="14" height="18" font="4">70</text>
<text top="665" left="396" width="27" height="18" font="4">1 15</text>
<text top="681" left="149" width="7" height="18" font="4">2</text>
<text top="681" left="190" width="144" height="18" font="4">8 340 160 3609 8.0</text>
<text top="681" left="355" width="14" height="18" font="4">70</text>
<text top="681" left="396" width="27" height="18" font="4">1 14</text>
<text top="697" left="149" width="7" height="18" font="4">3</text>
<text top="697" left="190" width="144" height="18" font="4">8 400 150 3761 9.5</text>
<text top="697" left="355" width="14" height="18" font="4">70</text>
<text top="697" left="396" width="27" height="18" font="4">1 15</text>
<text top="714" left="149" width="7" height="18" font="4">4</text>
<text top="714" left="190" width="144" height="18" font="4">4 121 113 2234 12.5</text>
<text top="714" left="355" width="14" height="18" font="4">70</text>
<text top="714" left="396" width="27" height="18" font="4">2 26</text>
<text top="730" left="149" width="7" height="18" font="4">5</text>
<text top="730" left="190" width="144" height="18" font="4">8 360 215 4615 14.0</text>
<text top="730" left="355" width="14" height="18" font="4">70</text>
<text top="730" left="396" width="27" height="18" font="4">1 10</text>
<text top="747" left="149" width="7" height="18" font="4">6</text>
<text top="747" left="190" width="144" height="18" font="4">8 304 193 4732 18.5</text>
<text top="747" left="355" width="14" height="18" font="4">70</text>
<text top="747" left="396" width="27" height="18" font="4">1 9</text>
<text top="763" left="149" width="7" height="18" font="4">7</text>
<text top="763" left="190" width="41" height="18" font="4">4 113</text>
<text top="763" left="252" width="82" height="18" font="4">95 2228 14.0</text>
<text top="763" left="355" width="14" height="18" font="4">71</text>
<text top="763" left="396" width="27" height="18" font="4">3 25</text>
<text top="780" left="149" width="7" height="18" font="4">8</text>
<text top="780" left="190" width="41" height="18" font="4">6 250</text>
<text top="780" left="252" width="82" height="18" font="4">88 3302 15.5</text>
<text top="780" left="355" width="14" height="18" font="4">71</text>
<text top="780" left="396" width="27" height="18" font="4">1 19</text>
<text top="796" left="149" width="7" height="18" font="4">9</text>
<text top="796" left="190" width="144" height="18" font="4">8 351 153 4154 13.5</text>
<text top="796" left="355" width="14" height="18" font="4">71</text>
<text top="796" left="396" width="27" height="18" font="4">1 14</text>
<text top="812" left="149" width="14" height="18" font="4">10</text>
<text top="812" left="190" width="144" height="18" font="4">8 318 150 4096 13.0</text>
<text top="812" left="355" width="14" height="18" font="4">71</text>
<text top="812" left="396" width="27" height="18" font="4">1 14</text>
<text top="829" left="149" width="192" height="18" font="4">&gt; madlib.lm(y ~ x, data = z)</text>
<text top="845" left="149" width="213" height="18" font="4">MADlib Linear Regression Result</text>
<text top="878" left="149" width="34" height="18" font="4">Call:</text>
<text top="895" left="149" width="247" height="18" font="4">madlib.lm(formula = y ~ x, data = z)</text>
<text top="928" left="149" width="268" height="18" font="4">---------------------------------------</text>
<text top="960" left="149" width="89" height="18" font="4">Coefficients:</text>
<text top="977" left="245" width="185" height="18" font="4">Estimate Std. Error t value</text>
<text top="977" left="471" width="55" height="18" font="4">Pr(&gt;|t|)</text>
<text top="993" left="149" width="151" height="18" font="4">(Intercept) -17.218435</text>
<text top="993" left="320" width="206" height="18" font="4">4.644294 -3.7074 2.402e-04 ***</text>
<text top="1010" left="149" width="27" height="18" font="4">x[1]</text>
<text top="1010" left="238" width="62" height="18" font="4">-0.493376</text>
<text top="1010" left="320" width="178" height="18" font="4">0.323282 -1.5261 1.278e-01</text>
<text top="1026" left="149" width="27" height="18" font="4">x[2]</text>
<text top="1026" left="245" width="55" height="18" font="4">0.019896</text>
<text top="1026" left="320" width="199" height="18" font="4">0.007515 2.6474 8.445e-03 **</text>
<text top="1043" left="149" width="27" height="18" font="4">x[3]</text>
<text top="1043" left="238" width="62" height="18" font="4">-0.016951</text>
<text top="1043" left="320" width="178" height="18" font="4">0.013787 -1.2295 2.196e-01</text>
<text top="1059" left="149" width="27" height="18" font="4">x[4]</text>
<text top="1059" left="238" width="62" height="18" font="4">-0.006474</text>
<text top="1059" left="320" width="206" height="18" font="4">0.000652 -9.9288 7.883e-21 ***</text>
<text top="1076" left="149" width="27" height="18" font="4">x[5]</text>
<text top="1076" left="245" width="55" height="18" font="4">0.080576</text>
<text top="1076" left="320" width="178" height="18" font="4">0.098845 0.8152 4.155e-01</text>
<text top="1092" left="149" width="27" height="18" font="4">x[6]</text>
<text top="1092" left="245" width="55" height="18" font="4">0.750773</text>
<text top="1092" left="320" width="206" height="18" font="4">0.050973 14.7288 3.069e-39 ***</text>
<text top="1108" left="149" width="27" height="18" font="4">x[7]</text>
<text top="1108" left="245" width="55" height="18" font="4">1.426140</text>
<text top="1108" left="320" width="206" height="18" font="4">0.278136 5.1275 4.666e-07 ***</text>
<text top="1125" left="149" width="21" height="18" font="4">---</text>
<text top="1141" left="149" width="425" height="18" font="4">Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</text>
<text top="1210" left="148" width="220" height="15" font="0">The R Journal Vol. 6/1, June 2014</text>
<text top="1210" left="642" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="8" position="absolute" top="0" left="0" height="1262" width="892">
<text top="44" left="64" width="11" height="15" font="0">C</text>
<text top="47" left="75" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="44" left="166" width="10" height="15" font="0">R</text>
<text top="47" left="177" width="61" height="12" font="1">ESEARCH</text>
<text top="44" left="242" width="12" height="15" font="0">A</text>
<text top="47" left="254" width="53" height="12" font="1">RTICLES</text>
<text top="44" left="814" width="15" height="15" font="0">64</text>
<text top="116" left="149" width="137" height="18" font="4">R-squared: 0.8214781</text>
<text top="133" left="149" width="178" height="18" font="4">Condition Number: 85850.33</text>
<text top="181" left="149" width="213" height="17" font="5"><b>Handling of NULL values</b></text>
<text top="220" left="149" width="53" height="13" font="3"><b>PivotalR</b></text>
<text top="220" left="205" width="160" height="13" font="4">makes it very easy to filter</text>
<text top="216" left="369" width="375" height="18" font="4">NULL values from a table. Here we show an example using the</text>
<text top="236" left="149" width="27" height="13" font="4">data</text>
<text top="233" left="179" width="565" height="18" font="4">&#34;null.data&#34; that comes with <b>PivotalR</b>. &#34;null.data&#34; has lots of NULL value. However, we can</text>
<text top="253" left="149" width="129" height="13" font="4">easily filter out all the</text>
<text top="249" left="281" width="73" height="18" font="4">NULL values.</text>
<text top="279" left="149" width="233" height="18" font="4">&gt; delete(&#34;null_data&#34;, conn.id = 2)</text>
<text top="295" left="149" width="55" height="18" font="4">[1] TRUE</text>
<text top="312" left="149" width="412" height="18" font="4">&gt; w &lt;- as.db.data.frame(null.data, &#34;null_data&#34;, conn.id = 2)</text>
<text top="328" left="149" width="569" height="18" font="4">The data in the data.frame null.data is stored into the table null_data in database</text>
<text top="345" left="149" width="144" height="18" font="4">madlib on localhost !</text>
<text top="361" left="149" width="55" height="18" font="4">&gt; dim(w)</text>
<text top="378" left="149" width="62" height="18" font="4">[1] 67126</text>
<text top="378" left="238" width="14" height="18" font="4">10</text>
<text top="394" left="149" width="103" height="18" font="4">&gt; lookat(w, 10)</text>
<text top="411" left="169" width="466" height="18" font="4">sf_mrtg_pct_assets ris_asset lncrcd lnauto lnconoth lnconrp intmsrfv</text>
<text top="427" left="149" width="7" height="18" font="4">1</text>
<text top="427" left="259" width="34" height="18" font="4">31.62</text>
<text top="427" left="320" width="41" height="18" font="4">208596</text>
<text top="427" left="403" width="7" height="18" font="4">0</text>
<text top="427" left="444" width="14" height="18" font="4">NA</text>
<text top="427" left="485" width="34" height="18" font="4">18260</text>
<text top="427" left="560" width="14" height="18" font="4">44</text>
<text top="427" left="629" width="7" height="18" font="4">0</text>
<text top="443" left="149" width="7" height="18" font="4">2</text>
<text top="443" left="259" width="34" height="18" font="4">20.66</text>
<text top="443" left="327" width="34" height="18" font="4">34647</text>
<text top="443" left="403" width="7" height="18" font="4">0</text>
<text top="443" left="444" width="14" height="18" font="4">NA</text>
<text top="443" left="492" width="27" height="18" font="4">2997</text>
<text top="443" left="567" width="7" height="18" font="4">0</text>
<text top="443" left="629" width="7" height="18" font="4">0</text>
<text top="460" left="149" width="7" height="18" font="4">3</text>
<text top="460" left="259" width="34" height="18" font="4">14.95</text>
<text top="460" left="320" width="41" height="18" font="4">160175</text>
<text top="460" left="403" width="7" height="18" font="4">0</text>
<text top="460" left="444" width="14" height="18" font="4">NA</text>
<text top="460" left="485" width="34" height="18" font="4">15164</text>
<text top="460" left="567" width="7" height="18" font="4">0</text>
<text top="460" left="629" width="7" height="18" font="4">0</text>
<text top="476" left="149" width="7" height="18" font="4">4</text>
<text top="476" left="259" width="34" height="18" font="4">17.49</text>
<text top="476" left="320" width="41" height="18" font="4">117398</text>
<text top="476" left="403" width="7" height="18" font="4">0</text>
<text top="476" left="444" width="14" height="18" font="4">NA</text>
<text top="476" left="485" width="34" height="18" font="4">12365</text>
<text top="476" left="567" width="7" height="18" font="4">0</text>
<text top="476" left="629" width="7" height="18" font="4">0</text>
<text top="493" left="149" width="7" height="18" font="4">5</text>
<text top="493" left="259" width="34" height="18" font="4">35.59</text>
<text top="493" left="320" width="41" height="18" font="4">233592</text>
<text top="493" left="403" width="7" height="18" font="4">0</text>
<text top="493" left="444" width="14" height="18" font="4">NA</text>
<text top="493" left="492" width="27" height="18" font="4">6261</text>
<text top="493" left="554" width="21" height="18" font="4">151</text>
<text top="493" left="629" width="7" height="18" font="4">0</text>
<text top="509" left="149" width="7" height="18" font="4">6</text>
<text top="509" left="259" width="34" height="18" font="4">11.57</text>
<text top="509" left="320" width="41" height="18" font="4">166387</text>
<text top="509" left="403" width="7" height="18" font="4">0</text>
<text top="509" left="444" width="14" height="18" font="4">NA</text>
<text top="509" left="485" width="34" height="18" font="4">36356</text>
<text top="509" left="567" width="7" height="18" font="4">0</text>
<text top="509" left="629" width="7" height="18" font="4">0</text>
<text top="526" left="149" width="7" height="18" font="4">7</text>
<text top="526" left="259" width="34" height="18" font="4">10.56</text>
<text top="526" left="320" width="41" height="18" font="4">102891</text>
<text top="526" left="403" width="7" height="18" font="4">0</text>
<text top="526" left="444" width="14" height="18" font="4">NA</text>
<text top="526" left="492" width="27" height="18" font="4">6311</text>
<text top="526" left="567" width="7" height="18" font="4">0</text>
<text top="526" left="629" width="7" height="18" font="4">0</text>
<text top="542" left="149" width="7" height="18" font="4">8</text>
<text top="542" left="265" width="27" height="18" font="4">6.05</text>
<text top="542" left="327" width="34" height="18" font="4">30138</text>
<text top="542" left="403" width="7" height="18" font="4">0</text>
<text top="542" left="444" width="14" height="18" font="4">NA</text>
<text top="542" left="492" width="27" height="18" font="4">2664</text>
<text top="542" left="567" width="7" height="18" font="4">0</text>
<text top="542" left="629" width="7" height="18" font="4">0</text>
<text top="558" left="149" width="7" height="18" font="4">9</text>
<text top="558" left="259" width="34" height="18" font="4">14.53</text>
<text top="558" left="313" width="48" height="18" font="4">1615727</text>
<text top="558" left="403" width="7" height="18" font="4">0</text>
<text top="558" left="444" width="14" height="18" font="4">NA</text>
<text top="558" left="485" width="34" height="18" font="4">80829</text>
<text top="558" left="547" width="27" height="18" font="4">1106</text>
<text top="558" left="615" width="21" height="18" font="4">105</text>
<text top="575" left="149" width="14" height="18" font="4">10</text>
<text top="575" left="259" width="34" height="18" font="4">12.88</text>
<text top="575" left="327" width="34" height="18" font="4">83090</text>
<text top="575" left="403" width="7" height="18" font="4">0</text>
<text top="575" left="444" width="14" height="18" font="4">NA</text>
<text top="575" left="485" width="34" height="18" font="4">11815</text>
<text top="575" left="567" width="7" height="18" font="4">0</text>
<text top="575" left="629" width="7" height="18" font="4">0</text>
<text top="591" left="169" width="178" height="18" font="4">lnrenr1a lnrenr2a lnrenr3a</text>
<text top="608" left="149" width="7" height="18" font="4">1</text>
<text top="608" left="211" width="14" height="18" font="4">NA</text>
<text top="608" left="272" width="14" height="18" font="4">NA</text>
<text top="608" left="334" width="14" height="18" font="4">NA</text>
<text top="624" left="149" width="7" height="18" font="4">2</text>
<text top="624" left="211" width="14" height="18" font="4">NA</text>
<text top="624" left="272" width="14" height="18" font="4">NA</text>
<text top="624" left="334" width="14" height="18" font="4">NA</text>
<text top="641" left="149" width="7" height="18" font="4">3</text>
<text top="641" left="211" width="14" height="18" font="4">NA</text>
<text top="641" left="272" width="14" height="18" font="4">NA</text>
<text top="641" left="334" width="14" height="18" font="4">NA</text>
<text top="657" left="149" width="7" height="18" font="4">4</text>
<text top="657" left="211" width="14" height="18" font="4">NA</text>
<text top="657" left="272" width="14" height="18" font="4">NA</text>
<text top="657" left="334" width="14" height="18" font="4">NA</text>
<text top="674" left="149" width="7" height="18" font="4">5</text>
<text top="674" left="211" width="14" height="18" font="4">NA</text>
<text top="674" left="272" width="14" height="18" font="4">NA</text>
<text top="674" left="334" width="14" height="18" font="4">NA</text>
<text top="690" left="149" width="7" height="18" font="4">6</text>
<text top="690" left="211" width="14" height="18" font="4">NA</text>
<text top="690" left="272" width="14" height="18" font="4">NA</text>
<text top="690" left="334" width="14" height="18" font="4">NA</text>
<text top="706" left="149" width="7" height="18" font="4">7</text>
<text top="706" left="211" width="14" height="18" font="4">NA</text>
<text top="706" left="272" width="14" height="18" font="4">NA</text>
<text top="706" left="334" width="14" height="18" font="4">NA</text>
<text top="723" left="149" width="7" height="18" font="4">8</text>
<text top="723" left="211" width="14" height="18" font="4">NA</text>
<text top="723" left="272" width="14" height="18" font="4">NA</text>
<text top="723" left="334" width="14" height="18" font="4">NA</text>
<text top="739" left="149" width="7" height="18" font="4">9</text>
<text top="739" left="211" width="14" height="18" font="4">NA</text>
<text top="739" left="272" width="14" height="18" font="4">NA</text>
<text top="739" left="334" width="14" height="18" font="4">NA</text>
<text top="756" left="149" width="14" height="18" font="4">10</text>
<text top="756" left="211" width="14" height="18" font="4">NA</text>
<text top="756" left="272" width="14" height="18" font="4">NA</text>
<text top="756" left="334" width="14" height="18" font="4">NA</text>
<text top="772" left="149" width="226" height="18" font="4">&gt; db.objects(&#34;null&#34;, conn.id = 2)</text>
<text top="789" left="149" width="226" height="18" font="4">[1] &#34;madlibtestdata.credit_nulls&#34;</text>
<text top="789" left="437" width="233" height="18" font="4">&#34;madlibtestdata.rf_golf_nullclass&#34;</text>
<text top="805" left="149" width="501" height="18" font="4">[3] &#34;madlibtestdata.rf_nursery_nullclass&#34; &#34;madlibtestdata.table_has_null&#34;</text>
<text top="821" left="149" width="151" height="18" font="4">[5] &#34;public.null_data&#34;</text>
<text top="838" left="149" width="412" height="18" font="4">&gt; for (i in 1:10) w &lt;- w[!is.na(w[i]),] # filter NULL values</text>
<text top="854" left="149" width="55" height="18" font="4">&gt; dim(w)</text>
<text top="871" left="149" width="55" height="18" font="4">[1] 6789</text>
<text top="871" left="224" width="14" height="18" font="4">10</text>
<text top="887" left="149" width="309" height="18" font="4">&gt; madlib.lm(sf_mrtg_pct_assets ~ ., data = w)</text>
<text top="904" left="149" width="213" height="18" font="4">MADlib Linear Regression Result</text>
<text top="937" left="149" width="34" height="18" font="4">Call:</text>
<text top="953" left="149" width="364" height="18" font="4">madlib.lm(formula = sf_mrtg_pct_assets ~ ., data = w)</text>
<text top="986" left="149" width="268" height="18" font="4">---------------------------------------</text>
<text top="1019" left="149" width="89" height="18" font="4">Coefficients:</text>
<text top="1035" left="245" width="130" height="18" font="4">Estimate Std. Error</text>
<text top="1035" left="396" width="48" height="18" font="4">t value</text>
<text top="1035" left="485" width="55" height="18" font="4">Pr(&gt;|t|)</text>
<text top="1052" left="149" width="391" height="18" font="4">(Intercept) 1.528e+01 1.471e-01 103.90694 0.000e+00 ***</text>
<text top="1068" left="149" width="62" height="18" font="4">ris_asset</text>
<text top="1068" left="238" width="137" height="18" font="4">1.602e-08 1.141e-08</text>
<text top="1068" left="396" width="117" height="18" font="4">1.40440 1.602e-01</text>
<text top="1084" left="149" width="41" height="18" font="4">lncrcd</text>
<text top="1084" left="231" width="295" height="18" font="4">-1.608e-07 7.725e-08 -2.08170 3.741e-02 *</text>
<text top="1101" left="149" width="41" height="18" font="4">lnauto</text>
<text top="1101" left="231" width="281" height="18" font="4">-3.871e-07 3.447e-07 -1.12301 2.615e-01</text>
<text top="1117" left="149" width="55" height="18" font="4">lnconoth</text>
<text top="1117" left="231" width="295" height="18" font="4">-7.498e-07 4.370e-07 -1.71559 8.628e-02 .</text>
<text top="1134" left="149" width="48" height="18" font="4">lnconrp</text>
<text top="1134" left="238" width="137" height="18" font="4">7.575e-08 1.229e-06</text>
<text top="1134" left="396" width="117" height="18" font="4">0.06165 9.508e-01</text>
<text top="1210" left="148" width="220" height="15" font="0">The R Journal Vol. 6/1, June 2014</text>
<text top="1210" left="642" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="9" position="absolute" top="0" left="0" height="1262" width="892">
	<fontspec id="13" size="8" family="Times" color="#000000"/>
<text top="44" left="64" width="11" height="15" font="0">C</text>
<text top="47" left="75" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="44" left="166" width="10" height="15" font="0">R</text>
<text top="47" left="177" width="61" height="12" font="1">ESEARCH</text>
<text top="44" left="242" width="12" height="15" font="0">A</text>
<text top="47" left="254" width="53" height="12" font="1">RTICLES</text>
<text top="44" left="814" width="15" height="15" font="0">65</text>
<text top="100" left="149" width="55" height="18" font="4">intmsrfv</text>
<text top="100" left="238" width="137" height="18" font="4">8.609e-06 1.790e-06</text>
<text top="100" left="396" width="144" height="18" font="4">4.81005 1.542e-06 ***</text>
<text top="116" left="149" width="55" height="18" font="4">lnrenr1a</text>
<text top="116" left="231" width="281" height="18" font="4">-4.827e-06 3.837e-05 -0.12580 8.999e-01</text>
<text top="133" left="149" width="55" height="18" font="4">lnrenr2a</text>
<text top="133" left="238" width="137" height="18" font="4">1.358e-04 2.359e-05</text>
<text top="133" left="396" width="144" height="18" font="4">5.75605 8.986e-09 ***</text>
<text top="149" left="149" width="55" height="18" font="4">lnrenr3a</text>
<text top="149" left="231" width="309" height="18" font="4">-3.133e-05 4.273e-06 -7.33355 2.502e-13 ***</text>
<text top="165" left="149" width="21" height="18" font="4">---</text>
<text top="182" left="149" width="425" height="18" font="4">Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</text>
<text top="215" left="149" width="144" height="18" font="4">R-squared: 0.01083685</text>
<text top="231" left="149" width="178" height="18" font="4">Condition Number: 37854014</text>
<text top="257" left="171" width="573" height="18" font="4">na.action is supported by madlib.lm, madlib.glm and madlib.elnet. The user can define his</text>
<text top="277" left="149" width="26" height="13" font="4">own</text>
<text top="273" left="179" width="374" height="18" font="4">&#34;na.action&#34; function. &#34;na.omit&#34; method is also implemented.</text>
<text top="320" left="149" width="491" height="17" font="5"><b>Quickly creating prototypes of machine learning algorithms</b></text>
<text top="359" left="149" width="595" height="13" font="4">One of the goals of <b>PivotalR </b>is to help data scientists quickly create prototypes for parallel machine</text>
<text top="375" left="149" width="595" height="13" font="4">learning algorithms that can run in distributive databases. Although <b>PivotalR </b>is still at an early stage</text>
<text top="392" left="149" width="595" height="13" font="4">of development, we have already invested some effort into this. The idea is to implement some basic</text>
<text top="408" left="149" width="476" height="13" font="4">operations that forms the building blocks for most machine learning algorithms.</text>
<text top="429" left="171" width="263" height="13" font="4">For example, we implemented the function</text>
<text top="426" left="439" width="269" height="18" font="4">crossprod, which computes the operation X</text>
<text top="426" left="708" width="6" height="10" font="13">T</text>
<text top="429" left="715" width="28" height="14" font="4">Y. X</text>
<text top="446" left="149" width="189" height="13" font="4">and Y are wrappers created by</text>
<text top="442" left="342" width="402" height="18" font="4">&#34;db.data.frame&#34; for tables that represent matrices. X has m rows</text>
<text top="462" left="148" width="596" height="13" font="4">(observations) and n columns (features). The assumption here is that m can be very large but the</text>
<text top="479" left="149" width="288" height="13" font="4">number of features n is small. Thus results of X</text>
<text top="476" left="437" width="6" height="10" font="13">T</text>
<text top="478" left="445" width="51" height="14" font="4">X and X</text>
<text top="476" left="496" width="6" height="10" font="13">T</text>
<text top="478" left="504" width="240" height="14" font="4">Y are both small and can be loaded into</text>
<text top="495" left="149" width="576" height="13" font="4">memory for further calculations. The big data computation only involves the computations of X</text>
<text top="492" left="726" width="6" height="10" font="13">T</text>
<text top="495" left="734" width="10" height="13" font="4">X</text>
<text top="511" left="149" width="36" height="13" font="4">and X</text>
<text top="509" left="186" width="6" height="10" font="13">T</text>
<text top="511" left="193" width="106" height="14" font="4">Y in the database.</text>
<text top="534" left="163" width="137" height="18" font="4">## linear regression</text>
<text top="550" left="163" width="178" height="18" font="4">linregr &lt;- function (x, y)</text>
<text top="566" left="163" width="7" height="18" font="4">{</text>
<text top="583" left="176" width="123" height="18" font="4">a &lt;- crossprod (x)</text>
<text top="599" left="176" width="144" height="18" font="4">b &lt;- crossprod (x, y)</text>
<text top="616" left="176" width="219" height="18" font="4">solve (lookat (a)) %*% lookat(b)</text>
<text top="632" left="163" width="7" height="18" font="4">}</text>
<text top="665" left="163" width="357" height="18" font="4">linregr (db.array(1, x[,-c (1,2,10)]), x[[&#34;rings&#34;]])</text>
<text top="694" left="171" width="573" height="13" font="4">Another example is the implementation of PCA for a matrix Z. Again we assume that the number</text>
<text top="710" left="149" width="261" height="13" font="4">of columns n is not large and the product Z</text>
<text top="708" left="410" width="6" height="10" font="13">T</text>
<text top="710" left="418" width="326" height="14" font="4">Z is small enough to be loaded into memory. <b>PivotalR</b></text>
<text top="727" left="149" width="70" height="13" font="4">implements</text>
<text top="723" left="223" width="383" height="18" font="4">&#34;scale&#34;, which is used together with crossprod in this example.</text>
<text top="749" left="163" width="41" height="18" font="4">## PCA</text>
<text top="765" left="163" width="268" height="18" font="4">## compute all eigenvectors in parallel</text>
<text top="782" left="163" width="316" height="18" font="4">## can be used for tables with features &lt; 1000</text>
<text top="815" left="163" width="336" height="18" font="4">pca &lt;- function (x, center = TRUE, scale = FALSE)</text>
<text top="831" left="163" width="7" height="18" font="4">{</text>
<text top="848" left="176" width="473" height="18" font="4">y &lt;- scale(x, center = center, scale = scale) # centering and scaling</text>
<text top="864" left="176" width="453" height="18" font="4">z &lt;- as.db.data.frame(y, verbose = FALSE) # create an intermediate</text>
<text top="880" left="176" width="213" height="18" font="4"># table to speed up computation</text>
<text top="897" left="176" width="466" height="18" font="4">m &lt;- lookat(crossprod(z)) # one scan of the table to compute Z^T * Z</text>
<text top="913" left="176" width="316" height="18" font="4">d &lt;- delete(z) # delete the intermediate table</text>
<text top="930" left="176" width="322" height="18" font="4">res &lt;- eigen(m) # only this computation is in R</text>
<text top="946" left="176" width="432" height="18" font="4">n &lt;- attr(y, &#34;row.number&#34;) # save the computation to count rows</text>
<text top="979" left="176" width="137" height="18" font="4">## return the result</text>
<text top="996" left="176" width="329" height="18" font="4">list(val = sqrt(res$values/(n-1)), # eigenvalues</text>
<text top="1012" left="176" width="412" height="18" font="4">vec = res$vectors, # columns of this matrix are eigenvectors</text>
<text top="1028" left="176" width="233" height="18" font="4">center = attr(y, &#34;scaled:center&#34;),</text>
<text top="1045" left="176" width="219" height="18" font="4">scale = attr(y, &#34;scaled:scale&#34;))</text>
<text top="1061" left="163" width="7" height="18" font="4">}</text>
<text top="1094" left="163" width="460" height="18" font="4">dat &lt;- db.data.frame(&#34;madlibtestdata.pca_mat_600_100&#34;, conn.id = 2)</text>
<text top="1127" left="163" width="123" height="18" font="4">q &lt;- pca(dat[,-1])</text>
<text top="1210" left="148" width="220" height="15" font="0">The R Journal Vol. 6/1, June 2014</text>
<text top="1210" left="642" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="10" position="absolute" top="0" left="0" height="1262" width="892">
<text top="44" left="64" width="11" height="15" font="0">C</text>
<text top="47" left="75" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="44" left="166" width="10" height="15" font="0">R</text>
<text top="47" left="177" width="61" height="12" font="1">ESEARCH</text>
<text top="44" left="242" width="12" height="15" font="0">A</text>
<text top="47" left="254" width="53" height="12" font="1">RTICLES</text>
<text top="44" left="814" width="15" height="15" font="0">66</text>
<text top="340" left="247" width="53" height="13" font="3"><b>Figure 4:</b></text>
<text top="340" left="305" width="341" height="13" font="4">Display the summary of a table in the graphical interface.</text>
<text top="663" left="229" width="53" height="13" font="3"><b>Figure 5:</b></text>
<text top="663" left="287" width="377" height="13" font="4">Display the result of linear regression in the graphical interface.</text>
<text top="710" left="149" width="133" height="17" font="5"><b>GUI of PivotalR</b></text>
<text top="749" left="148" width="596" height="13" font="4">As a front-end to both the database and MADlib, <b>PivotalR </b>also provides a graphical user interface</text>
<text top="765" left="148" width="596" height="13" font="4">(GUI) to let users that are not familiar with data science have an easy access to the functionalities. The</text>
<text top="782" left="149" width="595" height="13" font="4">GUI is written using the package <b>shiny</b>, which provides a very nice web application framework to</text>
<text top="798" left="149" width="182" height="13" font="4">create graphical user interface.</text>
<text top="819" left="171" width="229" height="13" font="4">The GUI is launched by the command</text>
<text top="816" left="403" width="341" height="18" font="4">pivotalr after the connection to the databases have been</text>
<text top="835" left="149" width="80" height="13" font="4">created. Fig.</text>
<text top="835" left="234" width="7" height="13" font="6"><a href="2014-1-qian.html#10">4</a></text>
<text top="835" left="246" width="51" height="13" font="4">and Fig.</text>
<text top="835" left="303" width="7" height="13" font="6"><a href="2014-1-qian.html#10">5</a></text>
<text top="835" left="315" width="245" height="13" font="4">show the graphical user interface. Fig.</text>
<text top="835" left="565" width="7" height="13" font="6"><a href="2014-1-qian.html#10">4</a></text>
<text top="835" left="577" width="167" height="13" font="4">shows a screenshot for the</text>
<text top="852" left="149" width="595" height="13" font="4">summary of various properties for all columns of a table. The actual computation is done through</text>
<text top="868" left="149" width="59" height="13" font="4">MADlib’s</text>
<text top="865" left="212" width="522" height="18" font="4">&#34;summary&#34; function, which has a wrapper function &#34;madlib.summary&#34; in <b>PivotalR</b>. Fig.</text>
<text top="868" left="737" width="7" height="13" font="6"><a href="2014-1-qian.html#10">5</a></text>
<text top="885" left="149" width="595" height="13" font="4">shows the computation result of linear regression. The actual computation is done through MADlib’s</text>
<text top="898" left="149" width="410" height="18" font="4">linregr_train function, which has a wrapper function &#34;madlib.lm&#34;.</text>
<text top="922" left="171" width="575" height="13" font="4">The GUI of <b>PivotalR </b>is based upon the package <b>shiny</b>, which is a web application framework.</text>
<text top="939" left="148" width="144" height="13" font="4">Therefore the command</text>
<text top="935" left="295" width="449" height="18" font="4">pivotalr launches a web application. One can run the GUI on a server and</text>
<text top="955" left="149" width="202" height="13" font="4">connect to it using a web browser.</text>
<text top="976" left="171" width="573" height="13" font="4">The GUI of <b>PivotalR </b>is still at its early development stage. Many functionalities, especially the</text>
<text top="992" left="148" width="596" height="13" font="4">various operations on data tables, cannot be done through GUI. However, we expect to improve the</text>
<text top="1009" left="149" width="217" height="13" font="4">GUI gradually in the future releases.</text>
<text top="1054" left="149" width="101" height="17" font="5"><b>Future work</b></text>
<text top="1092" left="149" width="595" height="13" font="4">MADlib has a wide variety of machine learning functions. At the time of writing, the version</text>
<text top="1109" left="149" width="595" height="13" font="4">of <b>PivotalR </b>on CRAN is 0.1.8, and it implements 5 wrapper functions: linear regression, logistic</text>
<text top="1125" left="149" width="595" height="13" font="4">regression, ARIMA, elastic net regularization, and the data table summary function. In the future, all</text>
<text top="1142" left="149" width="559" height="13" font="4">MADlib functions will have their wrappers in <b>PivotalR</b>. This is our highest priority right now.</text>
<text top="1210" left="148" width="220" height="15" font="0">The R Journal Vol. 6/1, June 2014</text>
<text top="1210" left="642" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="11" position="absolute" top="0" left="0" height="1262" width="892">
<text top="44" left="64" width="11" height="15" font="0">C</text>
<text top="47" left="75" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="44" left="166" width="10" height="15" font="0">R</text>
<text top="47" left="177" width="61" height="12" font="1">ESEARCH</text>
<text top="44" left="242" width="12" height="15" font="0">A</text>
<text top="47" left="254" width="53" height="12" font="1">RTICLES</text>
<text top="44" left="814" width="15" height="15" font="0">67</text>
<text top="103" left="171" width="573" height="13" font="4">As to the shiny interface of <b>PivotalR</b>, we are still exploring the possibilities of streamlining the</text>
<text top="120" left="149" width="595" height="13" font="4">machine learning workflow and making it compatible with a graphical interface. This by itself is a big</text>
<text top="136" left="148" width="304" height="13" font="4">project, but it has a lower priority in our road-map.</text>
<text top="157" left="171" width="575" height="13" font="4">The support for other platforms, like Hadoop or other database systems, is also on our road-map,</text>
<text top="173" left="149" width="214" height="13" font="4">but has a relatively low priority too.</text>
<text top="218" left="149" width="80" height="17" font="5"><b>Summary</b></text>
<text top="257" left="149" width="595" height="13" font="4">Here we introduced <b>PivotalR</b>, a package created by Pivotal Inc. This package provides an R front-end</text>
<text top="273" left="149" width="597" height="13" font="4">to PostgreSQL and all PostgreSQL-like databases like Pivotal Inc.’s Greenplum Database (GPDB),</text>
<text top="290" left="149" width="595" height="13" font="4">HAWQ. <b>PivotalR </b>allows the user to manipulate tables in database from within R. It also provides the</text>
<text top="306" left="148" width="596" height="13" font="4">wrapper functions for MADlib, which is an in-database machine learning library. <b>PivotalR </b>implements</text>
<text top="323" left="149" width="206" height="13" font="4">the support for array columns and</text>
<text top="319" left="358" width="386" height="18" font="4">NULL handling. It also helps the user to quickly create prototypes</text>
<text top="339" left="149" width="595" height="13" font="4">of machine learning algorithms. A graphical user interface based on shiny is also implemented. In</text>
<text top="356" left="149" width="595" height="13" font="4">general, <b>PivotalR </b>gives the user access to big data stored in databases and an easy-to-use machine</text>
<text top="372" left="149" width="95" height="13" font="4">learning toolkit.</text>
<text top="417" left="149" width="109" height="17" font="5"><b>Bibliography</b></text>
<text top="456" left="149" width="595" height="13" font="4">J. Conway, D. Eddelbuettel, T. Nishiyama, S. K. Prayaga, and N. Tiffin. RPostgreSQL: R interface to</text>
<text top="472" left="164" width="250" height="14" font="4">the PostgreSQL database system, 2013. URL</text>
<text top="469" left="417" width="309" height="18" font="6"><a href="http://CRAN.R-project.org/package=RPostgreSQL">http://CRAN.R-project.org/package=RPostgreSQL</a></text>
<text top="472" left="727" width="17" height="13" font="4"><a href="http://CRAN.R-project.org/package=RPostgreSQL">. </a>R</text>
<text top="489" left="163" width="137" height="13" font="4">package version 0.4. <a href="2014-1-qian.html#2">[p</a></text>
<text top="489" left="301" width="13" height="13" font="6"><a href="2014-1-qian.html#2">58</a></text>
<text top="489" left="314" width="4" height="13" font="4"><a href="2014-1-qian.html#2">]</a></text>
<text top="517" left="149" width="595" height="13" font="4">S. Guha, R. Hafen, J. Rounds, J. Xia, J. Li, B. Xi, and W. S. Cleveland. Large complex data: divide and</text>
<text top="533" left="164" width="315" height="13" font="4">recombine (d&amp;r) with rhipe. Stat, 1(1):53–67, 2012. <a href="2014-1-qian.html#1">[p</a></text>
<text top="533" left="479" width="13" height="13" font="6"><a href="2014-1-qian.html#1">57</a></text>
<text top="533" left="492" width="4" height="13" font="4"><a href="2014-1-qian.html#1">]</a></text>
<text top="562" left="149" width="146" height="13" font="4">NexR. RHive, 2013. URL</text>
<text top="558" left="299" width="199" height="18" font="6"><a href="https://github.com/nexr/RHive">https://github.com/nexr/RHive</a></text>
<text top="562" left="497" width="93" height="13" font="4"><a href="https://github.com/nexr/RHive">. </a>version 2.0. <a href="2014-1-qian.html#1">[p</a></text>
<text top="562" left="591" width="13" height="13" font="6"><a href="2014-1-qian.html#1">57</a></text>
<text top="562" left="604" width="4" height="13" font="4"><a href="2014-1-qian.html#1">]</a></text>
<text top="590" left="149" width="72" height="13" font="4">Pivotal Inc.</text>
<text top="590" left="238" width="169" height="14" font="4">Greenplum Database, 2013a.</text>
<text top="590" left="423" width="28" height="13" font="4">URL</text>
<text top="587" left="459" width="288" height="18" font="6"><a href="http://www.gopivotal.com/products/pivotal-greenplum-database">http://www.gopivotal.com/products/pivotal-</a></text>
<text top="603" left="164" width="124" height="18" font="6"><a href="http://www.gopivotal.com/products/pivotal-greenplum-database">greenplum-database</a></text>
<text top="607" left="288" width="103" height="13" font="4"><a href="http://www.gopivotal.com/products/pivotal-greenplum-database">. </a>version 4.2.4. <a href="2014-1-qian.html#2">[p</a></text>
<text top="607" left="391" width="13" height="13" font="6"><a href="2014-1-qian.html#2">58</a></text>
<text top="607" left="405" width="4" height="13" font="4"><a href="2014-1-qian.html#2">]</a></text>
<text top="635" left="149" width="214" height="13" font="4">Pivotal Inc. HAWQ, 2013b. URL</text>
<text top="632" left="368" width="379" height="18" font="6"><a href="http://www.gopivotal.com/pivotal-products/pivotal-data-fabric/pivotal-hd">http://www.gopivotal.com/pivotal-products/pivotal-data-</a></text>
<text top="648" left="164" width="117" height="18" font="6"><a href="http://www.gopivotal.com/pivotal-products/pivotal-data-fabric/pivotal-hd">fabric/pivotal-hd</a></text>
<text top="651" left="281" width="93" height="13" font="4"><a href="http://www.gopivotal.com/pivotal-products/pivotal-data-fabric/pivotal-hd">. </a>version 1.0. <a href="2014-1-qian.html#1">[p</a></text>
<text top="651" left="374" width="13" height="13" font="6"><a href="2014-1-qian.html#1">57</a></text>
<text top="651" left="388" width="4" height="13" font="4"><a href="2014-1-qian.html#1">]</a></text>
<text top="680" left="149" width="194" height="13" font="4">Pivotal Inc. MADlib, 2013c. URL</text>
<text top="676" left="346" width="117" height="18" font="6"><a href="http://madlib.net">http://madlib.net</a></text>
<text top="680" left="463" width="93" height="13" font="4"><a href="http://madlib.net">. </a>version 1.4. <a href="2014-1-qian.html#1">[p</a></text>
<text top="680" left="556" width="13" height="13" font="6"><a href="2014-1-qian.html#1">57</a></text>
<text top="680" left="569" width="4" height="13" font="4"><a href="2014-1-qian.html#1">]</a></text>
<text top="708" left="149" width="193" height="13" font="4">Pivotal Inc. PivotalR, 2013d. URL</text>
<text top="705" left="345" width="399" height="18" font="6"><a href="http://cran.r-project.org/web/packages/PivotalR/index.html">http://cran.r-project.org/web/packages/PivotalR/index.html</a></text>
<text top="708" left="743" width="3" height="13" font="4"><a href="http://cran.r-project.org/web/packages/PivotalR/index.html">.</a></text>
<text top="725" left="163" width="95" height="13" font="4">version 0.1.8. <a href="2014-1-qian.html#1">[p</a></text>
<text top="725" left="259" width="13" height="13" font="6"><a href="2014-1-qian.html#1">57</a></text>
<text top="725" left="272" width="3" height="13" font="4"><a href="2014-1-qian.html#1">,</a></text>
<text top="725" left="279" width="13" height="13" font="6"><a href="2014-1-qian.html#7">63</a></text>
<text top="725" left="292" width="4" height="13" font="4"><a href="2014-1-qian.html#7">]</a></text>
<text top="753" left="149" width="595" height="13" font="4">R Core Team. R: A Language and Environment for Statistical Computing. R Foundation for Statistical</text>
<text top="770" left="164" width="238" height="13" font="4">Computing, Vienna, Austria, 2013. URL</text>
<text top="766" left="405" width="172" height="18" font="6"><a href="http://www.R-project.org/">http://www.R-project.org/</a></text>
<text top="770" left="577" width="25" height="13" font="4"><a href="http://www.R-project.org/">. </a>[p]</text>
<text top="798" left="149" width="325" height="13" font="4">Revolution Analytics Company. RHadoop, 2012. URL</text>
<text top="795" left="478" width="268" height="18" font="6"><a href="https://github.com/RevolutionAnalytics/RHadoop/wiki">https://github.com/RevolutionAnalytics/</a></text>
<text top="811" left="164" width="82" height="18" font="6"><a href="https://github.com/RevolutionAnalytics/RHadoop/wiki">RHadoop/wiki</a></text>
<text top="814" left="246" width="21" height="13" font="4"><a href="https://github.com/RevolutionAnalytics/RHadoop/wiki">. </a><a href="2014-1-qian.html#1">[p</a></text>
<text top="814" left="267" width="13" height="13" font="6"><a href="2014-1-qian.html#1">57</a></text>
<text top="814" left="280" width="4" height="13" font="4"><a href="2014-1-qian.html#1">]</a></text>
<text top="843" left="149" width="358" height="13" font="4">RStudio Inc. shiny: Web Application Framework for R, 2013. URL</text>
<text top="839" left="510" width="234" height="18" font="6"><a href="http://CRAN.R-project.org/package=shiny">http://CRAN.R-project.org/package=</a></text>
<text top="856" left="164" width="34" height="18" font="6"><a href="http://CRAN.R-project.org/package=shiny">shiny</a></text>
<text top="859" left="198" width="168" height="13" font="4"><a href="http://CRAN.R-project.org/package=shiny">. </a>R package version 0.6.0. <a href="2014-1-qian.html#2">[p</a></text>
<text top="859" left="366" width="13" height="13" font="6"><a href="2014-1-qian.html#2">58</a></text>
<text top="859" left="379" width="4" height="13" font="4"><a href="2014-1-qian.html#2">]</a></text>
<text top="888" left="149" width="388" height="13" font="4">Teradata Corporation. teradataR. Teradata Corporation, 2012. URL</text>
<text top="884" left="540" width="206" height="18" font="6"><a href="http://downloads.teradata.com/download/applications/teradata-r">http://downloads.teradata.com/</a></text>
<text top="901" left="164" width="220" height="18" font="6"><a href="http://downloads.teradata.com/download/applications/teradata-r">download/applications/teradata-r</a></text>
<text top="904" left="384" width="103" height="13" font="4"><a href="http://downloads.teradata.com/download/applications/teradata-r">. </a>version 1.0.1. <a href="2014-1-qian.html#1">[p</a></text>
<text top="904" left="487" width="13" height="13" font="6"><a href="2014-1-qian.html#1">57</a></text>
<text top="904" left="501" width="4" height="13" font="4"><a href="2014-1-qian.html#1">]</a></text>
<text top="932" left="149" width="305" height="13" font="4">The Apache Software Foundation. HDFS, 2013. URL</text>
<text top="929" left="457" width="288" height="18" font="6"><a href="http://hadoop.apache.org/docs/stable/hdfs_user_guide.html">http://hadoop.apache.org/docs/stable/hdfs_</a></text>
<text top="945" left="164" width="103" height="18" font="6"><a href="http://hadoop.apache.org/docs/stable/hdfs_user_guide.html">user_guide.html</a></text>
<text top="949" left="267" width="100" height="13" font="4"><a href="http://hadoop.apache.org/docs/stable/hdfs_user_guide.html">. </a>version 0.23. <a href="2014-1-qian.html#1">[p</a></text>
<text top="949" left="367" width="13" height="13" font="6"><a href="2014-1-qian.html#1">57</a></text>
<text top="949" left="380" width="4" height="13" font="4"><a href="2014-1-qian.html#1">]</a></text>
<text top="977" left="149" width="463" height="13" font="4">H. Wickham and R. Francois. dplyr: a grammar of data manipulation, 2013. URL</text>
<text top="974" left="615" width="130" height="18" font="6"><a href="https://github.com/hadley/dplyr">https://github.com/</a></text>
<text top="990" left="164" width="82" height="18" font="6"><a href="https://github.com/hadley/dplyr">hadley/dplyr</a></text>
<text top="994" left="246" width="93" height="13" font="4"><a href="https://github.com/hadley/dplyr">. </a>version 0.1. <a href="2014-1-qian.html#1">[p</a></text>
<text top="994" left="339" width="13" height="13" font="6"><a href="2014-1-qian.html#1">57</a></text>
<text top="994" left="353" width="4" height="13" font="4"><a href="2014-1-qian.html#1">]</a></text>
<text top="1040" left="148" width="51" height="13" font="4">Hai Qian</text>
<text top="1056" left="148" width="63" height="13" font="4">Pivotal Inc.</text>
<text top="1073" left="149" width="233" height="13" font="4">3495 Deer Creek Rd., Palo Alto, CA 94304</text>
<text top="1089" left="148" width="28" height="13" font="4">USA</text>
<text top="1086" left="179" width="130" height="18" font="6"><a href="mailto:hqian@gopivotal.com">hqian@gopivotal.com</a></text>
<text top="1210" left="148" width="220" height="15" font="0">The R Journal Vol. 6/1, June 2014</text>
<text top="1210" left="642" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
</pdf2xml>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE pdf2xml SYSTEM "pdf2xml.dtd">

<pdf2xml producer="poppler" version="0.30.0">
<page number="1" position="absolute" top="0" left="0" height="1262" width="892">
	<fontspec id="0" size="12" family="Times" color="#000000"/>
	<fontspec id="1" size="9" family="Times" color="#000000"/>
	<fontspec id="2" size="35" family="Times" color="#000000"/>
	<fontspec id="3" size="12" family="Times" color="#000000"/>
	<fontspec id="4" size="19" family="Times" color="#000000"/>
	<fontspec id="5" size="12" family="Times" color="#00004c"/>
	<fontspec id="6" size="19" family="Times" color="#000000"/>
	<fontspec id="7" size="15" family="Times" color="#000000"/>
	<fontspec id="8" size="11" family="Times" color="#000000"/>
	<fontspec id="9" size="16" family="Times" color="#100e0c"/>
	<fontspec id="10" size="16" family="Times" color="#3d4ca8"/>
	<fontspec id="11" size="28" family="Times" color="#e22c22"/>
	<fontspec id="12" size="21" family="Times" color="#bb7b36"/>
	<fontspec id="13" size="21" family="Times" color="#100e0c"/>
	<fontspec id="14" size="21" family="Times" color="#8d188e"/>
	<fontspec id="15" size="21" family="Times" color="#25913f"/>
<text top="67" left="82" width="15" height="15" font="0">22</text>
<text top="67" left="562" width="11" height="15" font="0">C</text>
<text top="69" left="573" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="67" left="664" width="10" height="15" font="0">R</text>
<text top="69" left="674" width="61" height="12" font="1">ESEARCH</text>
<text top="67" left="740" width="12" height="15" font="0">A</text>
<text top="69" left="752" width="53" height="12" font="1">RTICLES</text>
<text top="121" left="82" width="349" height="36" font="2"><b>The hwriter Package</b></text>
<text top="173" left="82" width="309" height="15" font="3"><b>Composing HTML documents with R objects</b></text>
<text top="209" left="82" width="228" height="15" font="0">by Gregoire Pau and Wolfgang Huber</text>
<text top="250" left="82" width="124" height="21" font="4"><b>Introduction</b></text>
<text top="289" left="82" width="346" height="15" font="0">HTML documents are structured documents made</text>
<text top="307" left="82" width="346" height="15" font="0">of diverse elements such as paragraphs, sections,</text>
<text top="325" left="82" width="346" height="15" font="0">columns, figures and tables organized in a hierar-</text>
<text top="343" left="82" width="91" height="15" font="0">chical layout.</text>
<text top="343" left="189" width="240" height="15" font="0">Combination of HTML documents</text>
<text top="361" left="82" width="346" height="15" font="0">and hyperlinking is useful to report analysis results;</text>
<text top="379" left="82" width="346" height="15" font="0">for example, in the package <b>arrayQualityMetrics</b></text>
<text top="397" left="82" width="5" height="15" font="0"><a href="2009-1-RJournal_2009-1_Pau+Huber.html#3">(</a></text>
<text top="397" left="87" width="109" height="15" font="5"><a href="2009-1-RJournal_2009-1_Pau+Huber.html#3">Kauffmann et al.</a></text>
<text top="397" left="196" width="4" height="15" font="0"><a href="2009-1-RJournal_2009-1_Pau+Huber.html#3">,</a></text>
<text top="397" left="203" width="30" height="15" font="5"><a href="2009-1-RJournal_2009-1_Pau+Huber.html#3">2009</a></text>
<text top="397" left="233" width="196" height="15" font="0"><a href="2009-1-RJournal_2009-1_Pau+Huber.html#3">), </a>estimating the quality of mi-</text>
<text top="415" left="82" width="217" height="15" font="0">croarray data sets and <b>cellHTS2 </b><a href="2009-1-RJournal_2009-1_Pau+Huber.html#3">(</a></text>
<text top="415" left="299" width="85" height="15" font="5"><a href="2009-1-RJournal_2009-1_Pau+Huber.html#3">Boutros et al.</a></text>
<text top="415" left="384" width="4" height="15" font="0"><a href="2009-1-RJournal_2009-1_Pau+Huber.html#3">,</a></text>
<text top="415" left="390" width="30" height="15" font="5"><a href="2009-1-RJournal_2009-1_Pau+Huber.html#3">2006</a></text>
<text top="415" left="420" width="9" height="15" font="0"><a href="2009-1-RJournal_2009-1_Pau+Huber.html#3">),</a></text>
<text top="433" left="82" width="299" height="15" font="0">performing the analysis of cell-based screens.</text>
<text top="451" left="105" width="324" height="15" font="0">There are several tools for exporting data from</text>
<text top="469" left="82" width="346" height="15" font="0">R into HTML documents. The package <b>R2HTML </b>is</text>
<text top="487" left="82" width="346" height="15" font="0">able to render a large diversity of R objects in HTML</text>
<text top="505" left="82" width="346" height="15" font="0">but does not easily support combining them in a</text>
<text top="523" left="82" width="346" height="15" font="0">structured layout and has a complex syntax. On the</text>
<text top="541" left="82" width="346" height="15" font="0">other hand, the package <b>xtable </b>can render R matrices</text>
<text top="559" left="82" width="346" height="15" font="0">with simple commands but cannot combine HTML</text>
<text top="577" left="82" width="297" height="15" font="0">elements and has limited formatting options.</text>
<text top="595" left="105" width="324" height="15" font="0">The package <b>hwriter </b>allows rendering R objects</text>
<text top="613" left="82" width="346" height="15" font="0">in HTML and combining resulting elements in a</text>
<text top="631" left="82" width="346" height="15" font="0">structured layout. It uses a simple syntax, supports</text>
<text top="649" left="82" width="346" height="15" font="0">extensive formatting options and takes full advan-</text>
<text top="667" left="82" width="346" height="15" font="0">tage of the ellipsis ’...’ argument and R vector re-</text>
<text top="685" left="82" width="87" height="15" font="0">cycling rules.</text>
<text top="703" left="105" width="324" height="15" font="0">Comprehensive documentation and examples of</text>
<text top="721" left="82" width="51" height="15" font="3"><b>hwriter</b></text>
<text top="721" left="142" width="287" height="15" font="0">are generated by running the command</text>
<text top="740" left="82" width="122" height="12" font="0">example(hwriter)</text>
<text top="739" left="204" width="225" height="15" font="0">, which creates the package web</text>
<text top="757" left="82" width="32" height="15" font="0">page</text>
<text top="758" left="118" width="259" height="12" font="5"><a href="http://www.ebi.ac.uk/~gpau/hwriter">http://www.ebi.ac.uk/~gpau/hwriter</a></text>
<text top="757" left="377" width="4" height="15" font="0"><a href="http://www.ebi.ac.uk/~gpau/hwriter">.</a></text>
<text top="806" left="82" width="199" height="21" font="4"><b>The function </b>hwrite</text>
<text top="846" left="82" width="346" height="15" font="0">The generic function hwrite is the core function of</text>
<text top="864" left="82" width="346" height="15" font="0">the package <b>hwriter</b>. hwrite(x, page=NULL, ...)</text>
<text top="882" left="82" width="346" height="15" font="0">renders the object x in HTML using the formatting</text>
<text top="900" left="82" width="346" height="15" font="0">arguments specified in ’...’ and returns a character</text>
<text top="918" left="82" width="311" height="15" font="0">vector containing the HTML element code of x.</text>
<text top="936" left="105" width="324" height="15" font="0">If page is a filename, the HTML element is written</text>
<text top="954" left="82" width="346" height="15" font="0">in this file. If it is an R connection/file, the element is</text>
<text top="972" left="82" width="346" height="15" font="0">appended to this connection, allowing the sequential</text>
<text top="990" left="82" width="346" height="15" font="0">building of HTML documents. If NULL, the returned</text>
<text top="1008" left="82" width="346" height="15" font="0">HTML element code can be concatenated with other</text>
<text top="1026" left="82" width="346" height="15" font="0">elements with paste or nested inside other elements</text>
<text top="1044" left="82" width="346" height="15" font="0">through subsequent hwrite calls. These operations</text>
<text top="1062" left="82" width="346" height="15" font="0">are the tree structure equivalents of adding a sibling</text>
<text top="1080" left="82" width="342" height="15" font="0">node and adding a child node in the document tree.</text>
<text top="1124" left="82" width="153" height="17" font="7"><b>Formatting objects</b></text>
<text top="1155" left="82" width="346" height="15" font="0">The most basic call of hwrite is to output a character</text>
<text top="1173" left="82" width="214" height="15" font="0">vector into an HTML document.</text>
<text top="175" left="459" width="259" height="10" font="8">&gt; hwrite('Hello world !', 'doc.html')</text>
<text top="218" left="585" width="97" height="26" font="9">Hello world !</text>
<text top="282" left="481" width="324" height="15" font="0">Character strings can be rendered with a variety</text>
<text top="300" left="459" width="346" height="15" font="0">of formatting options. The argument link adds a hy-</text>
<text top="318" left="459" width="346" height="15" font="0">perlink to the HTML element pointing to an external</text>
<text top="336" left="459" width="346" height="15" font="0">document. The argument style specifies an inline</text>
<text top="354" left="459" width="346" height="15" font="0">Cascaded Style Sheet (CSS) style (color, alignment,</text>
<text top="372" left="459" width="346" height="15" font="0">margins, font, ...) to render the element. Other argu-</text>
<text top="390" left="459" width="249" height="15" font="0">ments allow a finer rendering control.</text>
<text top="421" left="459" width="259" height="10" font="8">&gt; hwrite('Hello world !', 'doc.html',</text>
<text top="437" left="473" width="236" height="10" font="8">link='http://cran.r-project.org/')</text>
<text top="477" left="589" width="97" height="26" font="10">Hello world !</text>
<text top="545" left="459" width="259" height="10" font="8">&gt; hwrite('Hello world !', 'doc.html',</text>
<text top="561" left="473" width="241" height="10" font="8">style='color: red; font-size: 20pt;</text>
<text top="578" left="473" width="241" height="10" font="8">font-family: Gill Sans Ultra Bold')</text>
<text top="617" left="515" width="237" height="42" font="11"><b>Hello world !</b></text>
<text top="696" left="481" width="324" height="15" font="0">Images can be included using hwriteImage which</text>
<text top="714" left="459" width="242" height="15" font="0">supports diverse formatting options.</text>
<text top="745" left="459" width="293" height="10" font="8">&gt; img=system.file('images', c('iris1.jpg',</text>
<text top="762" left="473" width="224" height="10" font="8">'iris3.jpg'), package='hwriter')</text>
<text top="778" left="459" width="229" height="10" font="8">&gt; hwriteImage(img[2], 'doc.html')</text>
<text top="987" left="459" width="171" height="17" font="7"><b>Arguments recycling</b></text>
<text top="1017" left="459" width="346" height="15" font="0">Objects written with formatting arguments contain-</text>
<text top="1035" left="459" width="346" height="15" font="0">ing more than one element are recycled by hwrite,</text>
<text top="1053" left="459" width="257" height="15" font="0">producing a vector of HTML elements.</text>
<text top="1082" left="459" width="286" height="10" font="8">&gt; hwrite('test', 'doc.html', style=paste(</text>
<text top="1098" left="473" width="284" height="10" font="8">'color:', c('peru', 'purple', 'green')))</text>
<text top="1131" left="574" width="32" height="34" font="12">test</text>
<text top="1131" left="609" width="6" height="34" font="13"> </text>
<text top="1131" left="615" width="32" height="34" font="14">test</text>
<text top="1131" left="648" width="6" height="34" font="13"> </text>
<text top="1131" left="658" width="32" height="34" font="15">test</text>
<text top="1218" left="82" width="220" height="15" font="0">The R Journal Vol. 1/1, May 2009</text>
<text top="1218" left="704" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="2" position="absolute" top="0" left="0" height="1262" width="892">
	<fontspec id="16" size="16" family="Times" color="#100f0d"/>
<text top="67" left="83" width="11" height="15" font="0">C</text>
<text top="69" left="94" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="67" left="184" width="10" height="15" font="0">R</text>
<text top="69" left="195" width="61" height="12" font="1">ESEARCH</text>
<text top="67" left="261" width="12" height="15" font="0">A</text>
<text top="69" left="273" width="53" height="12" font="1">RTICLES</text>
<text top="67" left="790" width="15" height="15" font="0">23</text>
<text top="123" left="82" width="168" height="17" font="7"><b>Vectors and matrices</b></text>
<text top="153" left="82" width="336" height="15" font="0">Vectors and matrices are rendered as HTML tables.</text>
<text top="184" left="82" width="249" height="10" font="8">&gt; hwrite(iris[1:2, 1:2], 'doc.html')</text>
<text top="230" left="168" width="192" height="26" font="16">Sepal.Length Sepal.Width</text>
<text top="259" left="151" width="40" height="26" font="16">1 5.1</text>
<text top="259" left="272" width="23" height="26" font="16">3.5</text>
<text top="288" left="151" width="40" height="26" font="16">2 4.9</text>
<text top="288" left="272" width="9" height="26" font="16">3</text>
<text top="357" left="105" width="324" height="15" font="0">Formatting arguments are recycled and dis-</text>
<text top="375" left="82" width="346" height="15" font="0">tributed over table cells. Arguments link and style</text>
<text top="392" left="82" width="346" height="15" font="0">are valid. Cell background color is controlled by the</text>
<text top="410" left="82" width="125" height="15" font="0">argument bgcolor.</text>
<text top="441" left="82" width="286" height="10" font="8">&gt; colors=rgb(colorRamp(c('red', 'yellow',</text>
<text top="458" left="96" width="194" height="10" font="8">'white'))((0:7)/7), max=255)</text>
<text top="474" left="82" width="284" height="10" font="8">&gt; hwrite(0:7, 'doc.html', bgcolor=colors,</text>
<text top="491" left="96" width="140" height="10" font="8">style='padding:5px')</text>
<text top="533" left="162" width="188" height="26" font="16">0 1 2 3 4 5 6 7</text>
<text top="598" left="105" width="324" height="15" font="0">Formatting arguments can also be distributed on</text>
<text top="616" left="82" width="346" height="15" font="0">rows and columns using the syntax row.* and col.*</text>
<text top="634" left="82" width="346" height="15" font="0">where * can be any valid HTML &lt;td&gt; attribute.</text>
<text top="652" left="82" width="346" height="15" font="0">Global table properties are specified using the syn-</text>
<text top="670" left="82" width="346" height="15" font="0">tax table.* where * can be any valid HTML &lt;table&gt;</text>
<text top="688" left="82" width="346" height="15" font="0">attribute. As an example, table.style controls the</text>
<text top="706" left="82" width="346" height="15" font="0">global table CSS inline style and table.cellpadding</text>
<text top="724" left="82" width="241" height="15" font="0">controls the global cell padding size.</text>
<text top="755" left="82" width="249" height="10" font="8">&gt; hwrite(iris[1:2, 1:2], 'doc.html',</text>
<text top="771" left="96" width="242" height="10" font="8">row.bgcolor='#ffdc98', table.style=</text>
<text top="788" left="96" width="188" height="10" font="8">'border-collapse:collapse',</text>
<text top="804" left="96" width="167" height="10" font="8">table.cellpadding='5px')</text>
<text top="845" left="168" width="197" height="26" font="9">Sepal.Length Sepal.Width</text>
<text top="879" left="147" width="44" height="26" font="9">1 5.1</text>
<text top="879" left="276" width="23" height="26" font="9">3.5</text>
<text top="913" left="147" width="44" height="26" font="9">2 4.9</text>
<text top="913" left="276" width="9" height="26" font="9">3</text>
<text top="981" left="82" width="309" height="17" font="7"><b>Appending HTML elements to a page</b></text>
<text top="1012" left="82" width="346" height="15" font="0">A new HTML document is created by the function</text>
<text top="1031" left="82" width="61" height="12" font="0">openPage</text>
<text top="1030" left="146" width="283" height="15" font="0">which returns an R connection. Appending</text>
<text top="1048" left="82" width="346" height="15" font="0">HTML elements to the page is done by passing the</text>
<text top="1065" left="82" width="346" height="15" font="0">connection to hwrite instead of a filename. The doc-</text>
<text top="1083" left="82" width="346" height="15" font="0">ument is closed by closePage which terminates the</text>
<text top="1101" left="82" width="346" height="15" font="0">HTML document. The function openPage supports</text>
<text top="1119" left="82" width="346" height="15" font="0">the argument link.css which links the document to</text>
<text top="1137" left="82" width="346" height="15" font="0">external stylesheets containing predefined CSS styles</text>
<text top="1155" left="82" width="346" height="15" font="0">and classes. Classes can be used with the argument</text>
<text top="1174" left="82" width="38" height="12" font="0">class</text>
<text top="1173" left="124" width="150" height="15" font="0">of the function hwrite.</text>
<text top="127" left="459" width="300" height="10" font="8">&gt; hcss=system.file('images', 'hwriter.css',</text>
<text top="144" left="473" width="126" height="10" font="8">package='hwriter')</text>
<text top="160" left="459" width="270" height="10" font="8">&gt; p=openPage('doc.html', link.css=hcss)</text>
<text top="177" left="459" width="206" height="10" font="8">&gt; hwriteImage(img, p, br=TRUE)</text>
<text top="193" left="459" width="247" height="10" font="8">&gt; hwrite(iris[1:2, 1:2], p, br=TRUE,</text>
<text top="210" left="473" width="153" height="10" font="8">row.bgcolor='#d2c0ed')</text>
<text top="226" left="459" width="293" height="10" font="8">&gt; hwrite('Iris flowers', p, class='intro')</text>
<text top="242" left="459" width="96" height="10" font="8">&gt; closePage(p)</text>
<text top="421" left="575" width="197" height="26" font="9">Sepal.Length Sepal.Width</text>
<text top="455" left="553" width="44" height="26" font="9">1 5.1</text>
<text top="455" left="682" width="23" height="26" font="9">3.5</text>
<text top="489" left="553" width="44" height="26" font="9">2 4.9</text>
<text top="489" left="682" width="9" height="26" font="9">3</text>
<text top="534" left="492" width="82" height="26" font="16">Iris ﬂowers</text>
<text top="605" left="459" width="203" height="17" font="7"><b>Nesting HTML elements</b></text>
<text top="635" left="459" width="346" height="15" font="0">The function hwrite always returns a character vec-</text>
<text top="653" left="459" width="346" height="15" font="0">tor containing HTML code parts. Code parts can be</text>
<text top="671" left="459" width="346" height="15" font="0">reused in further hwrite calls to build tables contain-</text>
<text top="689" left="459" width="346" height="15" font="0">ing complex cells or inner tables, which are useful to</text>
<text top="707" left="459" width="234" height="15" font="0">compose HTML document layouts.</text>
<text top="740" left="459" width="309" height="10" font="8">&gt; cap=hwrite(c('Plantae','Monocots','Iris'),</text>
<text top="756" left="473" width="270" height="10" font="8">table.style='border-collapse:collapse',</text>
<text top="773" left="473" width="167" height="10" font="8">table.cellpadding='5px')</text>
<text top="789" left="459" width="82" height="10" font="8">&gt; print(cap)</text>
<text top="819" left="459" width="268" height="10" font="8">&lt;table style=&#34;border-collapse:collapse&#34;</text>
<text top="836" left="459" width="254" height="10" font="8">cellpadding=&#34;5px&#34; border=&#34;1&#34;&gt;&lt;tr&gt;&lt;td&gt;</text>
<text top="852" left="459" width="254" height="10" font="8">Plantae&lt;/td&gt;&lt;td&gt;Monocots&lt;/td&gt;&lt;td&gt;Iris</text>
<text top="869" left="459" width="123" height="10" font="8">&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</text>
<text top="899" left="459" width="302" height="10" font="8">&gt; hwrite(matrix(c(hwriteImage(img[2]),cap)),</text>
<text top="915" left="473" width="252" height="10" font="8">'doc.html', table.cellpadding='5px',</text>
<text top="932" left="473" width="270" height="10" font="8">table.style='border-collapse:collapse')</text>
<text top="1130" left="545" width="174" height="26" font="9">Plantae Monocots Iris</text>
<text top="1218" left="82" width="220" height="15" font="0">The R Journal Vol. 1/1, May 2009</text>
<text top="1218" left="704" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="3" position="absolute" top="0" left="0" height="1262" width="892">
<text top="67" left="82" width="15" height="15" font="0">24</text>
<text top="67" left="562" width="11" height="15" font="0">C</text>
<text top="69" left="573" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="67" left="664" width="10" height="15" font="0">R</text>
<text top="69" left="674" width="61" height="12" font="1">ESEARCH</text>
<text top="67" left="740" width="12" height="15" font="0">A</text>
<text top="69" left="752" width="53" height="12" font="1">RTICLES</text>
<text top="121" left="82" width="130" height="21" font="4"><b>Bibliography</b></text>
<text top="161" left="82" width="346" height="15" font="0">M. Boutros, L. Bras, and W. Huber. Analysis of cell-</text>
<text top="179" left="97" width="321" height="15" font="0">based RNAi screens. Genome Biology, 7(66), 2006.</text>
<text top="215" left="82" width="346" height="15" font="0">A. Kauffmann, R. Gentleman, and W. Huber. ar-</text>
<text top="233" left="97" width="332" height="15" font="0">rayQualityMetrics - a Bioconductor package for</text>
<text top="251" left="97" width="332" height="15" font="0">quality assessment of microarray data. Bioinformat-</text>
<text top="269" left="97" width="97" height="15" font="0">ics, 25(3), 2009.</text>
<text top="125" left="459" width="80" height="15" font="0">Gregoire Pau</text>
<text top="143" left="459" width="252" height="15" font="0">EMBL-European Bioinformatics Institute</text>
<text top="161" left="459" width="95" height="15" font="0">Cambridge, UK</text>
<text top="180" left="459" width="168" height="12" font="5"><a href="mailto:gregoire.pau@ebi.ac.uk">gregoire.pau@ebi.ac.uk</a></text>
<text top="215" left="459" width="101" height="15" font="0">Wolfgang Huber</text>
<text top="233" left="459" width="252" height="15" font="0">EMBL-European Bioinformatics Institute</text>
<text top="251" left="459" width="95" height="15" font="0">Cambridge, UK</text>
<text top="270" left="459" width="114" height="12" font="5"><a href="mailto:huber@ebi.ac.uk">huber@ebi.ac.uk</a></text>
<text top="1218" left="82" width="220" height="15" font="0">The R Journal Vol. 1/1, May 2009</text>
<text top="1218" left="704" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
</pdf2xml>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE pdf2xml SYSTEM "pdf2xml.dtd">

<pdf2xml producer="poppler" version="0.30.0">
<page number="1" position="absolute" top="0" left="0" height="1262" width="892">
	<fontspec id="0" size="12" family="Times" color="#000000"/>
	<fontspec id="1" size="9" family="Times" color="#000000"/>
	<fontspec id="2" size="35" family="Times" color="#000000"/>
	<fontspec id="3" size="12" family="Times" color="#000000"/>
	<fontspec id="4" size="19" family="Times" color="#000000"/>
	<fontspec id="5" size="9" family="Times" color="#00004c"/>
	<fontspec id="6" size="12" family="Times" color="#00004c"/>
	<fontspec id="7" size="15" family="Times" color="#000000"/>
	<fontspec id="8" size="11" family="Times" color="#000000"/>
	<fontspec id="9" size="6" family="Times" color="#000000"/>
<text top="67" left="83" width="11" height="15" font="0">C</text>
<text top="69" left="94" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="67" left="184" width="10" height="15" font="0">R</text>
<text top="69" left="195" width="61" height="12" font="1">ESEARCH</text>
<text top="67" left="261" width="12" height="15" font="0">A</text>
<text top="69" left="273" width="53" height="12" font="1">RTICLES</text>
<text top="67" left="790" width="15" height="15" font="0">37</text>
<text top="121" left="82" width="719" height="36" font="2"><b>Transitioning to R: Replicating SAS, Stata,</b></text>
<text top="166" left="82" width="651" height="36" font="2"><b>and SUDAAN Analysis Techniques in</b></text>
<text top="211" left="82" width="320" height="36" font="2"><b>Health Policy Data</b></text>
<text top="262" left="82" width="123" height="15" font="0">by Anthony Damico</text>
<text top="297" left="96" width="61" height="15" font="3"><b>Abstract:</b></text>
<text top="297" left="183" width="233" height="15" font="0">Statistical, data manipulation, and</text>
<text top="315" left="96" width="319" height="15" font="0">presentation tools make R an ideal integrated</text>
<text top="333" left="96" width="319" height="15" font="0">package for research in the fields of health pol-</text>
<text top="351" left="96" width="319" height="15" font="0">icy and healthcare management and evaluation.</text>
<text top="369" left="96" width="319" height="15" font="0">However, the technical documentation accom-</text>
<text top="387" left="96" width="319" height="15" font="0">panying most data sets used by researchers in</text>
<text top="405" left="96" width="319" height="15" font="0">these fields does not include syntax examples for</text>
<text top="423" left="96" width="319" height="15" font="0">analysts to make the transition from another sta-</text>
<text top="441" left="96" width="319" height="15" font="0">tistical package to R. This paper describes the</text>
<text top="459" left="96" width="319" height="15" font="0">steps required to import health policy data into</text>
<text top="477" left="96" width="319" height="15" font="0">R, to prepare that data for analysis using the two</text>
<text top="495" left="96" width="319" height="15" font="0">most common complex survey variance calcu-</text>
<text top="513" left="96" width="319" height="15" font="0">lation techniques, and to produce the principal</text>
<text top="530" left="96" width="319" height="15" font="0">set of statistical estimates sought by health pol-</text>
<text top="548" left="96" width="319" height="15" font="0">icy researchers. Using data from the Medical Ex-</text>
<text top="566" left="96" width="319" height="15" font="0">penditure Panel Survey Household Component</text>
<text top="584" left="96" width="319" height="15" font="0">(MEPS-HC), this paper outlines complex survey</text>
<text top="602" left="96" width="319" height="15" font="0">data analysis techniques in R, with side-by-side</text>
<text top="620" left="96" width="319" height="15" font="0">comparisons to the SAS, Stata, and SUDAAN</text>
<text top="638" left="96" width="191" height="15" font="0">statistical software packages.</text>
<text top="685" left="82" width="124" height="21" font="4"><b>Introduction</b></text>
<text top="724" left="82" width="346" height="15" font="0">Health-care researchers use survey data to evaluate</text>
<text top="742" left="82" width="346" height="15" font="0">the state of the market and to inform the creation and</text>
<text top="760" left="82" width="346" height="15" font="0">implementation of new policies. America’s contin-</text>
<text top="778" left="82" width="346" height="15" font="0">uing discussion about the health-care system high-</text>
<text top="796" left="82" width="346" height="15" font="0">lights the unique role of population-generalizable</text>
<text top="814" left="82" width="346" height="15" font="0">data as a gauge for estimating how proposed leg-</text>
<text top="832" left="82" width="346" height="15" font="0">islation will affect specific demographic groups and</text>
<text top="850" left="82" width="243" height="15" font="0">the $2.2 trillion health-care industry<a href="2009-2-RJournal_2009-2_Damico.html#1">.</a></text>
<text top="847" left="325" width="6" height="11" font="5"><a href="2009-2-RJournal_2009-2_Damico.html#1">1</a></text>
<text top="850" left="339" width="90" height="15" font="0">Despite pow-</text>
<text top="868" left="82" width="346" height="15" font="0">erful statistical analysis, data manipulation, and</text>
<text top="886" left="82" width="346" height="15" font="0">presentation capabilities, R has not become widely</text>
<text top="904" left="82" width="346" height="15" font="0">adopted as a statistical package in the fields of health</text>
<text top="922" left="82" width="346" height="15" font="0">policy or health-care management and evaluation.</text>
<text top="940" left="82" width="346" height="15" font="0">User guidelines and other technical documents for</text>
<text top="958" left="82" width="346" height="15" font="0">government-funded and publicly available data sets</text>
<text top="976" left="82" width="346" height="15" font="0">rarely provide appropriate code examples to R users.</text>
<text top="993" left="82" width="346" height="15" font="0">The objective of this paper is to describe the steps re-</text>
<text top="1011" left="82" width="346" height="15" font="0">quired to import health policy data into R, to prepare</text>
<text top="1029" left="82" width="346" height="15" font="0">that data for analysis using the two most common</text>
<text top="1047" left="82" width="346" height="15" font="0">complex survey variance calculation techniques, and</text>
<text top="1065" left="82" width="346" height="15" font="0">to produce the principal set of statistical estimates</text>
<text top="1083" left="82" width="237" height="15" font="0">sought by health policy researchers.</text>
<text top="1102" left="105" width="324" height="15" font="0">This article compares means and standard</text>
<text top="1119" left="82" width="39" height="15" font="0">errors</text>
<text top="1119" left="137" width="64" height="15" font="0">produced</text>
<text top="1119" left="217" width="17" height="15" font="0">by</text>
<text top="1119" left="249" width="59" height="15" font="0">technical</text>
<text top="1119" left="324" width="105" height="15" font="0">documentation-</text>
<text top="262" left="459" width="346" height="15" font="0">recommended code examples for selected propri-</text>
<text top="280" left="459" width="294" height="15" font="0">etary statistical packages with those of the</text>
<text top="281" left="760" width="46" height="15" font="6"><a href="http://cran.r-project.org/package=survey"><b>survey</b></a></text>
<text top="298" left="459" width="346" height="15" font="0">package available in R, using data from the Medical</text>
<text top="316" left="459" width="346" height="15" font="0">Expenditure Panel Survey–Household Component</text>
<text top="334" left="459" width="82" height="15" font="0"><a href="2009-2-RJournal_2009-2_Damico.html#1">(MEPS-HC).</a></text>
<text top="331" left="541" width="6" height="11" font="5"><a href="2009-2-RJournal_2009-2_Damico.html#1">2</a></text>
<text top="380" left="459" width="67" height="17" font="7"><b>Medical</b></text>
<text top="380" left="548" width="101" height="17" font="7"><b>Expenditure</b></text>
<text top="380" left="671" width="46" height="17" font="7"><b>Panel</b></text>
<text top="380" left="739" width="67" height="17" font="7"><b>Survey–</b></text>
<text top="401" left="459" width="192" height="17" font="7"><b>Household Component</b></text>
<text top="432" left="480" width="336" height="15" font="0">• Nationally representative (non-institutionalized)</text>
<text top="450" left="496" width="309" height="15" font="0">sample of health services utilization in the</text>
<text top="468" left="496" width="88" height="15" font="0">United States</text>
<text top="493" left="480" width="326" height="15" font="0">• Administered by the Agency for Healthcare</text>
<text top="511" left="496" width="201" height="15" font="0">Research and Quality (AHRQ)</text>
<text top="536" left="480" width="326" height="15" font="0">• Panel survey design allows tracking of all indi-</text>
<text top="554" left="496" width="286" height="15" font="0">viduals and families for two calendar years</text>
<text top="580" left="480" width="326" height="15" font="0">• Person-level and event-level annual data avail-</text>
<text top="598" left="496" width="98" height="15" font="0">able since 1996</text>
<text top="633" left="481" width="324" height="15" font="0">MEPS-HC data provides a useful basis for cross-</text>
<text top="651" left="459" width="346" height="15" font="0">package comparisons because variances can be es-</text>
<text top="669" left="459" width="346" height="15" font="0">timated using both Taylor-series linearization and</text>
<text top="687" left="459" width="346" height="15" font="0">replicate weighting methods, unlike most complex</text>
<text top="705" left="459" width="346" height="15" font="0">sample survey data sets which recommend only one</text>
<text top="723" left="459" width="346" height="15" font="0">or the other. Presenting a step-by-step methodology</text>
<text top="741" left="459" width="346" height="15" font="0">with the MEPS-HC data set allows more convenient</text>
<text top="759" left="459" width="215" height="15" font="0">generalization to other data sets.</text>
<text top="809" left="459" width="167" height="21" font="4"><b>Data preparation</b></text>
<text top="849" left="459" width="346" height="15" font="0">AHRQ provides all downloadable MEPS files in both</text>
<text top="867" left="459" width="346" height="15" font="0">ASCII (.txt) and SAS transport (.xpt and .ssp) for-</text>
<text top="885" left="459" width="346" height="15" font="0">mats, along with programming statements for SAS</text>
<text top="903" left="459" width="98" height="15" font="0">and SPSS. The</text>
<text top="903" left="562" width="50" height="15" font="6"><a href="http://cran.r-project.org/package=foreign"><b>foreign</b></a></text>
<text top="903" left="617" width="188" height="15" font="0">package imports SAS trans-</text>
<text top="921" left="459" width="195" height="15" font="0">port files with minimal effort:</text>
<text top="953" left="459" width="123" height="10" font="8">&gt; library(foreign)</text>
<text top="970" left="459" width="219" height="10" font="8">&gt; h105 &lt;- read.xport(&#34;h105.ssp&#34;)</text>
<text top="999" left="481" width="324" height="15" font="0">Reading larger data sets with the read.xport</text>
<text top="1017" left="459" width="298" height="15" font="0">function may overburden system memory<a href="2009-2-RJournal_2009-2_Damico.html#1">.</a></text>
<text top="1015" left="756" width="6" height="11" font="5"><a href="2009-2-RJournal_2009-2_Damico.html#1">3</a></text>
<text top="1017" left="780" width="25" height="15" font="0">If a</text>
<text top="1035" left="459" width="346" height="15" font="0">memory error occurs, SAS transport files can be con-</text>
<text top="1053" left="459" width="346" height="15" font="0">verted to tab-delimited (.txt) files using the free SAS</text>
<text top="1071" left="459" width="346" height="15" font="0">System Viewer® and then alternatively imported</text>
<text top="1089" left="459" width="198" height="15" font="0">with the read.table function:</text>
<text top="1122" left="459" width="316" height="10" font="8">&gt; h105 &lt;- read.table(&#34;h105.dat&#34;, header=TRUE )</text>
<text top="1143" left="99" width="4" height="9" font="9"><a href="http://www.cms.hhs.gov/NationalHealthExpendData/downloads/highlights.pdf">1</a></text>
<text top="1147" left="104" width="439" height="9" font="5"><a href="http://www.cms.hhs.gov/NationalHealthExpendData/downloads/highlights.pdf">http://www.cms.hhs.gov/NationalHealthExpendData/downloads/highlights.pdf</a></text>
<text top="1158" left="99" width="4" height="9" font="9"><a href="http://www.meps.ahrq.gov/mepsweb/data_stats/download_data_files.jsp">2</a></text>
<text top="1161" left="104" width="409" height="9" font="5"><a href="http://www.meps.ahrq.gov/mepsweb/data_stats/download_data_files.jsp">http://www.meps.ahrq.gov/mepsweb/data_stats/download_data_files.jsp</a></text>
<text top="1173" left="99" width="4" height="9" font="9"><a href="http://www.biostat.jhsph.edu/~rpeng/docs/R-large-tables.html">3</a></text>
<text top="1176" left="104" width="367" height="9" font="5"><a href="http://www.biostat.jhsph.edu/~rpeng/docs/R-large-tables.html">http://www.biostat.jhsph.edu/~rpeng/docs/R-large-tables.html</a></text>
<text top="1218" left="82" width="257" height="15" font="0">The R Journal Vol. 1/2, December 2009</text>
<text top="1218" left="704" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="2" position="absolute" top="0" left="0" height="1262" width="892">
<text top="67" left="82" width="15" height="15" font="0">38</text>
<text top="67" left="562" width="11" height="15" font="0">C</text>
<text top="69" left="573" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="67" left="664" width="10" height="15" font="0">R</text>
<text top="69" left="674" width="61" height="12" font="1">ESEARCH</text>
<text top="67" left="740" width="12" height="15" font="0">A</text>
<text top="69" left="752" width="53" height="12" font="1">RTICLES</text>
<text top="125" left="105" width="324" height="15" font="0">Should memory errors continue to occur due to a</text>
<text top="143" left="82" width="346" height="15" font="0">large number of variables in the data set, database-</text>
<text top="161" left="82" width="346" height="15" font="0">backed survey design objects allow R to access a</text>
<text top="179" left="82" width="346" height="15" font="0">table stored within a relational database using ei-</text>
<text top="197" left="82" width="131" height="15" font="0">ther DBI or <a href="2009-2-RJournal_2009-2_Damico.html#2">ODBC.</a></text>
<text top="194" left="213" width="6" height="11" font="5"><a href="2009-2-RJournal_2009-2_Damico.html#2">4</a></text>
<text top="197" left="225" width="204" height="15" font="0">This alternative does not con-</text>
<text top="215" left="82" width="346" height="15" font="0">serve memory in data sets that are large due to</text>
<text top="233" left="82" width="346" height="15" font="0">record count. The table is accessed directly by the</text>
<text top="252" left="82" width="69" height="12" font="0">svydesign</text>
<text top="251" left="159" width="270" height="15" font="0">function (discussed later), through the</text>
<text top="268" left="82" width="346" height="15" font="0">addition of a dbname argument to specify the loca-</text>
<text top="286" left="82" width="346" height="15" font="0">tion and a dbtype argument to specify the database</text>
<text top="304" left="82" width="44" height="15" font="0">driver.</text>
<text top="322" left="105" width="324" height="15" font="0">After successful import, unnecessary variables</text>
<text top="340" left="82" width="346" height="15" font="0">should be eliminated from the data frame to in-</text>
<text top="358" left="82" width="346" height="15" font="0">crease processing speed. The select argument to</text>
<text top="376" left="82" width="346" height="15" font="0">the subset command acts as the SAS KEEP option</text>
<text top="394" left="82" width="346" height="15" font="0">in a DATA step or the Stata keep command, by drop-</text>
<text top="412" left="82" width="346" height="15" font="0">ping all unspecified fields. Distinct subpopulation</text>
<text top="430" left="82" width="346" height="15" font="0">data frames could also be created with the subset</text>
<text top="448" left="82" width="346" height="15" font="0">command; however, observations should not be ex-</text>
<text top="466" left="82" width="346" height="15" font="0">cluded until the design object has been created, in</text>
<text top="484" left="82" width="340" height="15" font="0">order to preserve the entire complex sample <a href="2009-2-RJournal_2009-2_Damico.html#2">design.</a></text>
<text top="481" left="423" width="6" height="11" font="5"><a href="2009-2-RJournal_2009-2_Damico.html#2">5</a></text>
<text top="518" left="82" width="192" height="10" font="8">&gt; #limit to specified fields</text>
<text top="534" left="82" width="165" height="10" font="8">&gt; meps06 &lt;- subset(h105,</text>
<text top="551" left="82" width="7" height="10" font="8">+</text>
<text top="551" left="110" width="309" height="10" font="8">select = c(DUPERSID, PANEL, PERWT06F, VARSTR,</text>
<text top="567" left="82" width="7" height="10" font="8">+</text>
<text top="567" left="124" width="316" height="10" font="8">VARPSU, AGE06X, TOTEXP06, REGION06, RTHLTH53))</text>
<text top="600" left="82" width="233" height="10" font="8">&gt; #clear memory of full data frame</text>
<text top="616" left="82" width="69" height="10" font="8">&gt; rm(h105)</text>
<text top="647" left="105" width="324" height="15" font="0">All other recoding and re-categorization should</text>
<text top="665" left="82" width="346" height="15" font="0">occur at this stage. The example below creates a cat-</text>
<text top="683" left="82" width="346" height="15" font="0">egorical variable based on the age of the individual</text>
<text top="701" left="82" width="346" height="15" font="0">using the cut function to delineate the appropriate</text>
<text top="719" left="82" width="61" height="15" font="0">intervals.</text>
<text top="753" left="82" width="213" height="10" font="8">&gt; #recode linear to categorical</text>
<text top="769" left="82" width="261" height="10" font="8">&gt; # below 25 ; 25-34 ; 35-44 ; 45-54 ;</text>
<text top="786" left="82" width="213" height="10" font="8">&gt; # 55-64 ; 65-74 ; 75-84 ; 85+</text>
<text top="802" left="82" width="322" height="10" font="8">&gt; meps06[, &#34;AGECAT&#34;] &lt;- cut(meps06[, &#34;AGE06X&#34;],</text>
<text top="818" left="82" width="7" height="10" font="8">+</text>
<text top="818" left="110" width="295" height="10" font="8">br = c(-1, 24 + 10*0:6, Inf), labels = 1:8)</text>
<text top="849" left="105" width="324" height="15" font="0">Note that the labels argument can directly pro-</text>
<text top="867" left="82" width="346" height="15" font="0">duce character strings rather than numeric cate-</text>
<text top="885" left="82" width="346" height="15" font="0">gories. This example creates the same categories as</text>
<text top="903" left="82" width="187" height="15" font="0">above, with character labels.</text>
<text top="937" left="82" width="199" height="10" font="8">&gt; #alternate character labels</text>
<text top="953" left="82" width="329" height="10" font="8">&gt; meps06[, &#34;cAGECAT&#34;] &lt;- cut(meps06[, &#34;AGE06X&#34;],</text>
<text top="970" left="82" width="7" height="10" font="8">+</text>
<text top="970" left="110" width="185" height="10" font="8">br = c(-1, 24+10*0:6, Inf),</text>
<text top="986" left="82" width="7" height="10" font="8">+</text>
<text top="986" left="110" width="75" height="10" font="8">labels = c(</text>
<text top="982" left="185" width="181" height="17" font="8">'Below 25', '25-34', '35-44',</text>
<text top="1003" left="82" width="7" height="10" font="8">+</text>
<text top="998" left="124" width="265" height="17" font="8">'45-54', '55-64', '65-74', '75-84', '85+'))</text>
<text top="1034" left="105" width="324" height="15" font="0">Once all needed variables have been created, in-</text>
<text top="1051" left="82" width="346" height="15" font="0">applicable or invalid values should be converted to</text>
<text top="1069" left="82" width="346" height="15" font="0">missing. This example combines the ’Excellent’ and</text>
<text top="1087" left="82" width="346" height="15" font="0">’Very good’ self-reported health status responses,</text>
<text top="1105" left="82" width="334" height="15" font="0">then assigns incomplete records as missing <a href="2009-2-RJournal_2009-2_Damico.html#2">values.</a></text>
<text top="1102" left="416" width="6" height="11" font="5"><a href="2009-2-RJournal_2009-2_Damico.html#2">6</a></text>
<text top="127" left="459" width="226" height="10" font="8">&gt; #combine ex (1) &amp; vg health (2)</text>
<text top="144" left="459" width="226" height="10" font="8">&gt; # into the same response option</text>
<text top="160" left="459" width="343" height="10" font="8">&gt; meps06[, &#34;RTHLTH53&#34;] &lt;- meps06[ ,&#34;RTHLTH53&#34;] - 1</text>
<text top="177" left="459" width="343" height="10" font="8">&gt; meps06[meps06[ ,&#34;RTHLTH53&#34;] == 0, &#34;RTHLTH53&#34;] &lt;-</text>
<text top="193" left="459" width="7" height="10" font="8">+</text>
<text top="193" left="486" width="7" height="10" font="8">1</text>
<text top="226" left="459" width="240" height="10" font="8">&gt; #recode negatives to missing (NA)</text>
<text top="242" left="459" width="343" height="10" font="8">&gt; meps06[meps06[ , &#34;RTHLTH53&#34;] &lt; 0, &#34;RTHLTH53&#34;] &lt;-</text>
<text top="259" left="459" width="7" height="10" font="8">+</text>
<text top="259" left="486" width="14" height="10" font="8">NA</text>
<text top="300" left="481" width="324" height="15" font="0">The addition of missing values to any variable</text>
<text top="318" left="459" width="346" height="15" font="0">within a data frame requires that subsequent anal-</text>
<text top="336" left="459" width="346" height="15" font="0">yses of the variable include the na.rm = TRUE argu-</text>
<text top="354" left="459" width="346" height="15" font="0">ment in order to appropriately exclude those obser-</text>
<text top="372" left="459" width="52" height="15" font="0">vations.</text>
<text top="392" left="481" width="324" height="15" font="0">At the conclusion of all data transformations, all</text>
<text top="410" left="459" width="346" height="15" font="0">variables that one wishes to display in weighted col-</text>
<text top="428" left="459" width="346" height="15" font="0">umn frequencies should be converted to a character</text>
<text top="446" left="459" width="346" height="15" font="0">string in a new variable. The rationale behind this</text>
<text top="464" left="459" width="307" height="15" font="0">conversion is discussed in the Analysis section.</text>
<text top="508" left="459" width="261" height="10" font="8">&gt; #char vars for region &amp; health stat.</text>
<text top="525" left="459" width="199" height="10" font="8">&gt; meps06 &lt;- transform(meps06,</text>
<text top="541" left="459" width="7" height="10" font="8">+</text>
<text top="541" left="486" width="240" height="10" font="8">cRTHLTH53 = as.character(RTHLTH53))</text>
<text top="558" left="459" width="199" height="10" font="8">&gt; meps06 &lt;- transform(meps06,</text>
<text top="574" left="459" width="7" height="10" font="8">+</text>
<text top="574" left="486" width="240" height="10" font="8">cREGION06 = as.character(REGION06))</text>
<text top="634" left="459" width="346" height="21" font="4"><b>Survey design for Taylor-series lin-</b></text>
<text top="661" left="459" width="98" height="21" font="4"><b>earization</b></text>
<text top="704" left="459" width="25" height="15" font="0">The</text>
<text top="704" left="500" width="69" height="15" font="0">estimation</text>
<text top="704" left="586" width="46" height="15" font="0">weight</text>
<text top="704" left="649" width="89" height="15" font="0">(PERWT06F),</text>
<text top="704" left="754" width="52" height="15" font="0">stratum</text>
<text top="722" left="459" width="346" height="15" font="0">(VARSTR), and primary sampling unit (VARPSU)</text>
<text top="740" left="459" width="346" height="15" font="0">fields make up the MEPS survey design and allow</text>
<text top="758" left="459" width="346" height="15" font="0">for the Taylor-series linearization method of stan-</text>
<text top="776" left="459" width="346" height="15" font="0">dard error computation. The <b>survey </b>package can</text>
<text top="794" left="459" width="346" height="15" font="0">then be used to create a complex sample survey de-</text>
<text top="812" left="459" width="346" height="15" font="0">sign object for each data set. After creation, the com-</text>
<text top="830" left="459" width="346" height="15" font="0">plex survey design object replaces the R data frame</text>
<text top="848" left="459" width="243" height="15" font="0">as the target of all analysis functions.</text>
<text top="892" left="459" width="117" height="10" font="8">&gt; library(survey)</text>
<text top="925" left="459" width="254" height="10" font="8">&gt; #create main tsl survey design obj.</text>
<text top="942" left="459" width="295" height="10" font="8">&gt; meps.tsl.dsgn &lt;- svydesign(id = ~ VARPSU,</text>
<text top="958" left="459" width="7" height="10" font="8">+</text>
<text top="958" left="486" width="274" height="10" font="8">strata = ~ VARSTR, weights = ~ PERWT06F,</text>
<text top="974" left="459" width="7" height="10" font="8">+</text>
<text top="974" left="486" width="185" height="10" font="8">data = meps06, nest = TRUE)</text>
<text top="1016" left="481" width="324" height="15" font="0">Survey design objects store (rather than point to)</text>
<text top="1034" left="459" width="346" height="15" font="0">data sets at the time of design object creation; any</text>
<text top="1051" left="459" width="346" height="15" font="0">modifications of the meps06 data frame in subsequent</text>
<text top="1069" left="459" width="346" height="15" font="0">steps require the above re-assignment of the design</text>
<text top="1087" left="459" width="346" height="15" font="0">objects in order to see those changes in subsequent</text>
<text top="1105" left="459" width="134" height="15" font="0">analysis commands.</text>
<text top="1129" left="99" width="4" height="9" font="9"><a href="http://faculty.washington.edu/tlumley/survey/svy-dbi.html">4</a></text>
<text top="1132" left="104" width="348" height="9" font="5"><a href="http://faculty.washington.edu/tlumley/survey/svy-dbi.html">http://faculty.washington.edu/tlumley/survey/svy-dbi.html</a></text>
<text top="1144" left="99" width="4" height="9" font="9"><a href="http://faculty.washington.edu/tlumley/survey/example-domain.html">5</a></text>
<text top="1147" left="104" width="391" height="9" font="5"><a href="http://faculty.washington.edu/tlumley/survey/example-domain.html">http://faculty.washington.edu/tlumley/survey/example-domain.html</a></text>
<text top="1159" left="99" width="4" height="9" font="9">6</text>
<text top="1161" left="104" width="701" height="12" font="1">Original Self-Reported Health Status Values in MEPS: (1) Excellent; (2) Very good; (3) Good; (4) Fair; (5) Poor; (-9) Not Ascertained;</text>
<text top="1175" left="82" width="251" height="12" font="1">(-8) Don’t Know; (-7) Refused; (-1) Inapplicable.</text>
<text top="1218" left="82" width="257" height="15" font="0">The R Journal Vol. 1/2, December 2009</text>
<text top="1218" left="704" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="3" position="absolute" top="0" left="0" height="1262" width="892">
	<fontspec id="10" size="12" family="Times" color="#00004c"/>
<text top="67" left="83" width="11" height="15" font="0">C</text>
<text top="69" left="94" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="67" left="184" width="10" height="15" font="0">R</text>
<text top="69" left="195" width="61" height="12" font="1">ESEARCH</text>
<text top="67" left="261" width="12" height="15" font="0">A</text>
<text top="69" left="273" width="53" height="12" font="1">RTICLES</text>
<text top="67" left="790" width="15" height="15" font="0">39</text>
<text top="121" left="82" width="346" height="21" font="4"><b>Taylor-series linearization cross-</b></text>
<text top="148" left="82" width="210" height="21" font="4"><b>package comparisons</b></text>
<text top="187" left="82" width="346" height="15" font="0">Many health policy data sets with complex sample</text>
<text top="205" left="82" width="346" height="15" font="0">designs use the Taylor-series linearization method</text>
<text top="222" left="82" width="346" height="15" font="0">for standard error computation. After the appropri-</text>
<text top="240" left="82" width="346" height="15" font="0">ate survey design object has been created, point esti-</text>
<text top="258" left="82" width="150" height="15" font="0">mates can be obtained.</text>
<text top="289" left="82" width="233" height="10" font="8">&gt; #total adult expendure mean &amp; se</text>
<text top="306" left="82" width="144" height="10" font="8">&gt; svymean(~ TOTEXP06,</text>
<text top="322" left="82" width="7" height="10" font="8">+</text>
<text top="322" left="110" width="240" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17))</text>
<text top="355" left="82" width="254" height="10" font="8">&gt; #total nonelderly adult expenditure</text>
<text top="371" left="82" width="151" height="10" font="8">&gt; svymean(~ TOTEXP06 ,</text>
<text top="388" left="82" width="7" height="10" font="8">+</text>
<text top="388" left="110" width="226" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17</text>
<text top="404" left="82" width="7" height="10" font="8">+</text>
<text top="404" left="124" width="103" height="10" font="8">&amp; AGE06X &lt; 65))</text>
<text top="432" left="105" width="108" height="15" font="0">As seen in Table</text>
<text top="432" left="217" width="7" height="15" font="10"><a href="2009-2-RJournal_2009-2_Damico.html#4">1</a></text>
<text top="432" left="224" width="205" height="15" font="0"><a href="2009-2-RJournal_2009-2_Damico.html#4">, </a>R accurately replicates the es-</text>
<text top="450" left="82" width="346" height="15" font="0">timates derived by each of the other statistical pack-</text>
<text top="468" left="82" width="346" height="15" font="0">ages, SAS, Stata, and SUDAAN. The programming</text>
<text top="486" left="82" width="346" height="15" font="0">code for each of these other three packages matches</text>
<text top="504" left="82" width="346" height="15" font="0">the AHRQ recommendations found in their data</text>
<text top="522" left="82" width="104" height="15" font="0">documentation.</text>
<text top="519" left="191" width="6" height="11" font="5"><a href="2009-2-RJournal_2009-2_Damico.html#3">7</a></text>
<text top="540" left="105" width="324" height="15" font="0">Since policy research and evaluations often dic-</text>
<text top="557" left="82" width="346" height="15" font="0">tate that adults and children be studied separately,</text>
<text top="575" left="82" width="346" height="15" font="0">this paper will chiefly analyze the data set after re-</text>
<text top="593" left="82" width="346" height="15" font="0">stricting the sample to individuals aged 18 or above.</text>
<text top="611" left="82" width="346" height="15" font="0">Although used throughout this paper, note that the</text>
<text top="631" left="82" width="46" height="12" font="0">subset</text>
<text top="629" left="137" width="292" height="15" font="0">design object embedded in the functions</text>
<text top="647" left="82" width="252" height="15" font="0">above could be re-created as a pointer.</text>
<text top="678" left="82" width="281" height="10" font="8">&gt; x &lt;- subset(meps.tsl.dsgn, AGE06X &gt; 17)</text>
<text top="722" left="82" width="346" height="21" font="4"><b>Data preparation and survey design</b></text>
<text top="749" left="82" width="225" height="21" font="4"><b>for replicate weighting</b></text>
<text top="787" left="82" width="346" height="15" font="0">Note: Analysts solely interested in Taylor-series lineariza-</text>
<text top="805" left="82" width="346" height="15" font="0">tion can skip this section. Standard errors in MEPS-</text>
<text top="823" left="82" width="346" height="15" font="0">HC can be calculated without the Balanced Repeated</text>
<text top="841" left="82" width="346" height="15" font="0">Replication (BRR) technique; however, these survey</text>
<text top="859" left="82" width="346" height="15" font="0">design steps can be generalized to other health pol-</text>
<text top="877" left="82" width="346" height="15" font="0">icy data sets that recommend replicate weighting,</text>
<text top="895" left="82" width="346" height="15" font="0">including the Consumer Expenditure Survey (CE)</text>
<text top="913" left="82" width="346" height="15" font="0">and the Survey of Income and Program Participation</text>
<text top="931" left="82" width="346" height="15" font="0">(SIPP). Replicate weighting designs provide the dual</text>
<text top="949" left="82" width="346" height="15" font="0">advantages of allowing quantile point estimate stan-</text>
<text top="967" left="82" width="346" height="15" font="0">dard errors to be calculated with relative ease and of</text>
<text top="985" left="82" width="346" height="15" font="0">maintaining accurate variances when a subpopula-</text>
<text top="1003" left="82" width="346" height="15" font="0">tion under examination has been so restricted as to</text>
<text top="1021" left="82" width="250" height="15" font="0">contain a stratum with only one <a href="2009-2-RJournal_2009-2_Damico.html#3">PSU.</a></text>
<text top="1018" left="333" width="6" height="11" font="5"><a href="2009-2-RJournal_2009-2_Damico.html#3">8</a></text>
<text top="1021" left="344" width="85" height="15" font="0">The code be-</text>
<text top="1039" left="82" width="346" height="15" font="0">low imports the MEPS-HC Replicates file and joins</text>
<text top="1057" left="82" width="346" height="15" font="0">that file with the adult file and the non-elderly adult</text>
<text top="1074" left="82" width="24" height="15" font="0">file.</text>
<text top="1105" left="82" width="192" height="10" font="8">&gt; #load the half-sample data</text>
<text top="1122" left="82" width="123" height="10" font="8">&gt; library(foreign)</text>
<text top="127" left="459" width="226" height="10" font="8">&gt; brr &lt;- read.xport(&#34;h36b06.ssp&#34;)</text>
<text top="160" left="459" width="240" height="10" font="8">&gt; #merge half-sample with main file</text>
<text top="177" left="459" width="219" height="10" font="8">&gt; meps.brr &lt;- merge(meps06, brr,</text>
<text top="193" left="459" width="7" height="10" font="8">+</text>
<text top="193" left="486" width="206" height="10" font="8">by.x = c(&#34;DUPERSID&#34;, &#34;PANEL&#34;),</text>
<text top="210" left="459" width="7" height="10" font="8">+</text>
<text top="210" left="486" width="206" height="10" font="8">by.y = c(&#34;DUPERSID&#34;, &#34;PANEL&#34;),</text>
<text top="226" left="459" width="7" height="10" font="8">+</text>
<text top="226" left="486" width="69" height="10" font="8">all=FALSE)</text>
<text top="252" left="481" width="324" height="15" font="0">Note that if additional variables need to be re-</text>
<text top="270" left="459" width="346" height="15" font="0">moved from a data frame, the select argument cap-</text>
<text top="288" left="459" width="346" height="15" font="0">tures all fields in between two fields separated by a</text>
<text top="306" left="459" width="346" height="15" font="0">colon - a shortcut particularly valuable for maintain-</text>
<text top="324" left="459" width="217" height="15" font="0">ing 64 replicate weight variables.</text>
<text top="353" left="459" width="233" height="10" font="8">&gt; meps.brr.sub &lt;- subset(meps.brr,</text>
<text top="369" left="459" width="7" height="10" font="8">+</text>
<text top="369" left="486" width="254" height="10" font="8">select = c(DUPERSID, PANEL, PERWT06F,</text>
<text top="386" left="459" width="7" height="10" font="8">+</text>
<text top="386" left="500" width="213" height="10" font="8">VARSTR, VARPSU, AGE06X, AGECAT,</text>
<text top="402" left="459" width="7" height="10" font="8">+</text>
<text top="402" left="500" width="206" height="10" font="8">TOTEXP06, REGION06, cREGION06,</text>
<text top="419" left="459" width="7" height="10" font="8">+</text>
<text top="419" left="500" width="219" height="10" font="8">RTHLTH53, cRTHLTH5, BRR1:BRR64))</text>
<text top="445" left="481" width="25" height="15" font="0">The</text>
<text top="445" left="530" width="45" height="15" font="0">survey</text>
<text top="445" left="599" width="57" height="15" font="0">replicate</text>
<text top="445" left="680" width="46" height="15" font="0">weight</text>
<text top="445" left="750" width="55" height="15" font="0">function</text>
<text top="464" left="459" width="84" height="12" font="0">svrepdesign</text>
<text top="463" left="554" width="251" height="15" font="0">allows the creation of a replicate</text>
<text top="481" left="459" width="346" height="15" font="0">weight-based survey design object. The repweights</text>
<text top="498" left="459" width="346" height="15" font="0">argument requires the identification of the 64 repli-</text>
<text top="516" left="459" width="346" height="15" font="0">cate weight fields in the data frame, obtained in</text>
<text top="534" left="459" width="346" height="15" font="0">the code below by isolating all fields containing</text>
<text top="552" left="459" width="292" height="15" font="0">the string &#34;BRR&#34; with the grep function.</text>
<text top="552" left="771" width="34" height="15" font="0">Half-</text>
<text top="570" left="459" width="346" height="15" font="0">sample replication techniques generally rely on the</text>
<text top="588" left="459" width="346" height="15" font="0">replicate weights equation BRR<b>X</b>wt = BRR<b>X </b>* 2 *</text>
<text top="606" left="459" width="346" height="15" font="0">PERWT06F, where <b>X </b>is 1:64 and each BRR<b>X </b>field is</text>
<text top="624" left="459" width="346" height="15" font="0">a binary variable containing an equal number of ze-</text>
<text top="642" left="459" width="346" height="15" font="0">roes and ones that are randomly distributed across</text>
<text top="660" left="459" width="346" height="15" font="0">the records in the data set. If the series of replicate</text>
<text top="678" left="459" width="346" height="15" font="0">weights has already been computed to BRR<b>X</b>wt, the</text>
<text top="697" left="459" width="122" height="12" font="0">combined.weights</text>
<text top="696" left="586" width="219" height="15" font="0">argument should be set to TRUE.</text>
<text top="714" left="459" width="346" height="15" font="0">The downloadable MEPS BRR file contains only bi-</text>
<text top="732" left="459" width="346" height="15" font="0">nary BRR<b>X </b>variables, indicating that R must take the</text>
<text top="750" left="459" width="301" height="15" font="0">extra step of computing the BRR<b>X</b>wt <a href="2009-2-RJournal_2009-2_Damico.html#3">weights.</a></text>
<text top="747" left="760" width="6" height="11" font="5"><a href="2009-2-RJournal_2009-2_Damico.html#3">9</a></text>
<text top="779" left="459" width="254" height="10" font="8">&gt; #create meps brr survey design obj.</text>
<text top="795" left="459" width="316" height="10" font="8">&gt; meps.brr.dsgn &lt;-svrepdesign(data = meps.brr,</text>
<text top="812" left="459" width="7" height="10" font="8">+</text>
<text top="812" left="486" width="82" height="10" font="8">repweights =</text>
<text top="828" left="459" width="7" height="10" font="8">+</text>
<text top="828" left="500" width="309" height="10" font="8">meps.brr[ ,grep(&#34;^BRR&#34;, colnames(meps.brr))],</text>
<text top="844" left="459" width="7" height="10" font="8">+</text>
<text top="844" left="486" width="268" height="10" font="8">type = &#34;BRR&#34;, combined.weights = FALSE,</text>
<text top="861" left="459" width="7" height="10" font="8">+</text>
<text top="861" left="486" width="192" height="10" font="8">weights = meps.brr$PERWT06F)</text>
<text top="905" left="459" width="346" height="21" font="4"><b>Replicate weighting cross-package</b></text>
<text top="931" left="459" width="124" height="21" font="4"><b>comparisons</b></text>
<text top="970" left="459" width="346" height="15" font="0">Note: Analysts solely interested in Taylor-series lineariza-</text>
<text top="988" left="459" width="346" height="15" font="0">tion can skip this section. Data sets used for health</text>
<text top="1006" left="459" width="346" height="15" font="0">policy research often require the calculation of stan-</text>
<text top="1024" left="459" width="346" height="15" font="0">dard errors using replicate weights. Using the same</text>
<text top="1043" left="459" width="53" height="12" font="0">svymean</text>
<text top="1042" left="516" width="289" height="15" font="0">function, the point estimate can be obtained</text>
<text top="1060" left="459" width="338" height="15" font="0">again by simply changing the survey design object.</text>
<text top="1089" left="459" width="219" height="10" font="8">&gt; #brr method: total $ mean &amp; se</text>
<text top="1105" left="459" width="144" height="10" font="8">&gt; svymean(~ TOTEXP06,</text>
<text top="1122" left="459" width="7" height="10" font="8">+</text>
<text top="1122" left="486" width="240" height="10" font="8">subset(meps.brr.dsgn, AGE06X &gt; 17))</text>
<text top="1143" left="99" width="4" height="9" font="9"><a href="http://www.meps.ahrq.gov/mepsweb/survey_comp/standard_errors.jsp ">7</a></text>
<text top="1147" left="104" width="390" height="9" font="5"><a href="http://www.meps.ahrq.gov/mepsweb/survey_comp/standard_errors.jsp ">http://www.meps.ahrq.gov/mepsweb/survey_comp/standard_errors.jsp</a></text>
<text top="1158" left="99" width="4" height="9" font="9"><a href="http://faculty.washington.edu/tlumley/survey/exmample-lonely.html ">8</a></text>
<text top="1161" left="104" width="397" height="9" font="5"><a href="http://faculty.washington.edu/tlumley/survey/exmample-lonely.html ">http://faculty.washington.edu/tlumley/survey/exmample-lonely.html</a></text>
<text top="1173" left="99" width="4" height="9" font="9"><a href="http://www.meps.ahrq.gov/mepsweb/data_stats/download_data_files_detail.jsp?cboPufNumber=HC-036BRR">9</a></text>
<text top="1176" left="104" width="592" height="9" font="5"><a href="http://www.meps.ahrq.gov/mepsweb/data_stats/download_data_files_detail.jsp?cboPufNumber=HC-036BRR">http://www.meps.ahrq.gov/mepsweb/data_stats/download_data_files_detail.jsp?cboPufNumber=HC-036BRR</a></text>
<text top="1218" left="82" width="257" height="15" font="0">The R Journal Vol. 1/2, December 2009</text>
<text top="1218" left="704" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="4" position="absolute" top="0" left="0" height="1262" width="892">
<text top="67" left="82" width="15" height="15" font="0">40</text>
<text top="67" left="562" width="11" height="15" font="0">C</text>
<text top="69" left="573" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="67" left="664" width="10" height="15" font="0">R</text>
<text top="69" left="674" width="61" height="12" font="1">ESEARCH</text>
<text top="67" left="740" width="12" height="15" font="0">A</text>
<text top="69" left="752" width="53" height="12" font="1">RTICLES</text>
<text top="398" left="155" width="579" height="15" font="0">Table 1: Comparison of Taylor-Series Linearization Standard Error Calculation Methods</text>
<text top="444" left="273" width="9" height="13" font="8">R</text>
<text top="444" left="411" width="25" height="13" font="8">SAS</text>
<text top="444" left="555" width="29" height="13" font="8">Stata</text>
<text top="444" left="686" width="60" height="13" font="8">SUDAAN</text>
<text top="480" left="92" width="18" height="13" font="8">All</text>
<text top="497" left="92" width="41" height="13" font="8">Adults</text>
<text top="480" left="153" width="32" height="13" font="8">Code</text>
<text top="481" left="214" width="122" height="14" font="8">svymean(˜TOTEXP06,</text>
<text top="498" left="214" width="48" height="10" font="8">subset(</text>
<text top="514" left="214" width="96" height="10" font="8">meps.tsl.dsgn,</text>
<text top="531" left="214" width="89" height="10" font="8">AGE06X &gt; 17))</text>
<text top="481" left="360" width="110" height="10" font="8">proc surveymeans</text>
<text top="498" left="360" width="110" height="10" font="8">data=meps.adult;</text>
<text top="514" left="360" width="103" height="10" font="8">stratum varstr;</text>
<text top="531" left="360" width="103" height="10" font="8">cluster varpsu;</text>
<text top="547" left="360" width="110" height="10" font="8">weight perwt06f;</text>
<text top="564" left="360" width="89" height="10" font="8">var totexp06;</text>
<text top="481" left="506" width="41" height="10" font="8">svyset</text>
<text top="498" left="506" width="130" height="10" font="8">[pweight=PERWT06F],</text>
<text top="514" left="506" width="96" height="10" font="8">strata(VARSTR)</text>
<text top="531" left="506" width="110" height="10" font="8">psu(VARPSU) svy:</text>
<text top="547" left="506" width="89" height="10" font="8">mean TOTEXP06</text>
<text top="481" left="652" width="89" height="10" font="8">proc descript</text>
<text top="498" left="652" width="82" height="10" font="8">data=&#34;adult&#34;</text>
<text top="514" left="652" width="117" height="10" font="8">filetype=sasxport</text>
<text top="531" left="652" width="62" height="10" font="8">design=wr</text>
<text top="547" left="652" width="103" height="10" font="8">notsorted; nest</text>
<text top="564" left="652" width="96" height="10" font="8">varstr varpsu;</text>
<text top="580" left="652" width="110" height="10" font="8">weight perwt06f;</text>
<text top="597" left="652" width="89" height="10" font="8">var totexp06;</text>
<text top="615" left="153" width="34" height="13" font="8">Mean</text>
<text top="615" left="214" width="37" height="13" font="8">4009.1</text>
<text top="615" left="360" width="37" height="13" font="8">4009.1</text>
<text top="615" left="506" width="37" height="13" font="8">4009.1</text>
<text top="615" left="652" width="37" height="13" font="8">4009.1</text>
<text top="651" left="153" width="15" height="13" font="8">SE</text>
<text top="651" left="214" width="24" height="13" font="8">82.4</text>
<text top="651" left="360" width="24" height="13" font="8">82.4</text>
<text top="651" left="506" width="24" height="13" font="8">82.4</text>
<text top="651" left="652" width="24" height="13" font="8">82.4</text>
<text top="687" left="92" width="31" height="13" font="8">Non-</text>
<text top="704" left="92" width="43" height="13" font="8">Elderly</text>
<text top="720" left="92" width="41" height="13" font="8">Adults</text>
<text top="687" left="153" width="32" height="13" font="8">Code</text>
<text top="688" left="214" width="122" height="14" font="8">svymean(˜TOTEXP06,</text>
<text top="705" left="214" width="48" height="10" font="8">subset(</text>
<text top="721" left="214" width="96" height="10" font="8">meps.tsl.dsgn,</text>
<text top="738" left="214" width="89" height="10" font="8">AGE06X &gt; 17 &amp;</text>
<text top="754" left="214" width="89" height="10" font="8">AGE06X &lt; 65))</text>
<text top="688" left="360" width="110" height="10" font="8">proc surveymeans</text>
<text top="705" left="360" width="110" height="10" font="8">data=meps.adult;</text>
<text top="721" left="360" width="123" height="10" font="8">where age06x &lt; 65;</text>
<text top="738" left="360" width="103" height="10" font="8">stratum varstr;</text>
<text top="754" left="360" width="103" height="10" font="8">cluster varpsu;</text>
<text top="771" left="360" width="110" height="10" font="8">weight perwt06f;</text>
<text top="787" left="360" width="89" height="10" font="8">var totexp06;</text>
<text top="688" left="506" width="41" height="10" font="8">svyset</text>
<text top="705" left="506" width="130" height="10" font="8">[pweight=PERWT06F],</text>
<text top="721" left="506" width="96" height="10" font="8">strata(VARSTR)</text>
<text top="738" left="506" width="110" height="10" font="8">psu(VARPSU) svy:</text>
<text top="754" left="506" width="110" height="10" font="8">mean TOTEXP06 if</text>
<text top="771" left="506" width="75" height="10" font="8">AGE06X &lt; 65</text>
<text top="688" left="652" width="89" height="10" font="8">proc descript</text>
<text top="705" left="652" width="96" height="10" font="8">data = &#34;adult&#34;</text>
<text top="721" left="652" width="117" height="10" font="8">filetype=sasxport</text>
<text top="738" left="652" width="62" height="10" font="8">design=wr</text>
<text top="754" left="652" width="103" height="10" font="8">notsorted; nest</text>
<text top="771" left="652" width="96" height="10" font="8">varstr varpsu;</text>
<text top="787" left="652" width="110" height="10" font="8">weight perwt06f;</text>
<text top="803" left="652" width="89" height="10" font="8">var totexp06;</text>
<text top="820" left="652" width="110" height="10" font="8">subpopn age06x &lt;</text>
<text top="836" left="652" width="21" height="10" font="8">65;</text>
<text top="854" left="153" width="34" height="13" font="8">Mean</text>
<text top="854" left="214" width="37" height="13" font="8">3155.4</text>
<text top="854" left="360" width="37" height="13" font="8">3155.4</text>
<text top="854" left="506" width="37" height="13" font="8">3155.4</text>
<text top="854" left="652" width="37" height="13" font="8">3155.4</text>
<text top="890" left="153" width="15" height="13" font="8">SE</text>
<text top="890" left="214" width="24" height="13" font="8">76.2</text>
<text top="890" left="360" width="24" height="13" font="8">76.2</text>
<text top="890" left="506" width="24" height="13" font="8">76.2</text>
<text top="890" left="652" width="24" height="13" font="8">76.2</text>
<text top="1218" left="82" width="257" height="15" font="0">The R Journal Vol. 1/2, December 2009</text>
<text top="1218" left="704" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="5" position="absolute" top="0" left="0" height="1262" width="892">
<text top="67" left="83" width="11" height="15" font="0">C</text>
<text top="69" left="94" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="67" left="184" width="10" height="15" font="0">R</text>
<text top="69" left="195" width="61" height="12" font="1">ESEARCH</text>
<text top="67" left="261" width="12" height="15" font="0">A</text>
<text top="69" left="273" width="53" height="12" font="1">RTICLES</text>
<text top="67" left="790" width="15" height="15" font="0">41</text>
<text top="125" left="105" width="110" height="15" font="0">As seen in Table</text>
<text top="125" left="220" width="7" height="15" font="10"><a href="2009-2-RJournal_2009-2_Damico.html#6">2</a></text>
<text top="125" left="227" width="202" height="15" font="0"><a href="2009-2-RJournal_2009-2_Damico.html#6">, </a>the survey design object cre-</text>
<text top="143" left="82" width="346" height="15" font="0">ated by R matches the Stata variance estimation pre-</text>
<text top="161" left="82" width="346" height="15" font="0">cisely where the mean-squared error (MSE) option</text>
<text top="179" left="82" width="346" height="15" font="0">has not been selected; this estimate is derived from</text>
<text top="197" left="82" width="346" height="15" font="0">the sum of squares of the replicate estimates centered</text>
<text top="215" left="82" width="346" height="15" font="0">at the mean of those estimates. Stata’s variance esti-</text>
<text top="233" left="82" width="346" height="15" font="0">mation using the MSE option and SUDAAN’s built-</text>
<text top="251" left="82" width="346" height="15" font="0">in replicate weighting algorithm both center on the</text>
<text top="268" left="82" width="346" height="15" font="0">actual point estimate rather than the mean of the</text>
<text top="286" left="82" width="346" height="15" font="0">replicate estimates, resulting in a slightly larger con-</text>
<text top="304" left="82" width="346" height="15" font="0">fidence interval. The choice between these two tech-</text>
<text top="322" left="82" width="346" height="15" font="0">niques does not have any theoretical considerations,</text>
<text top="340" left="82" width="346" height="15" font="0">and the results are almost always similar. Though</text>
<text top="358" left="82" width="346" height="15" font="0">marginally different, standard errors computed with</text>
<text top="376" left="82" width="346" height="15" font="0">R are equally valid as those computed with SU-</text>
<text top="394" left="82" width="346" height="15" font="0">DAAN or with Stata’s MSE method. Two statistical</text>
<text top="412" left="82" width="346" height="15" font="0">tests conducted using the standard errors from the</text>
<text top="430" left="82" width="346" height="15" font="0">different packages will almost always produce a nu-</text>
<text top="448" left="82" width="346" height="15" font="0">merically different but substantively compatible re-</text>
<text top="466" left="82" width="28" height="15" font="0">sult.</text>
<text top="484" left="105" width="324" height="15" font="0">Comparison code for SAS was not included in</text>
<text top="502" left="82" width="346" height="15" font="0">Table 2 because the base package requires the cal-</text>
<text top="520" left="82" width="346" height="15" font="0">culation of replicate weighting estimates with user-</text>
<text top="538" left="82" width="87" height="15" font="0">written code.</text>
<text top="586" left="82" width="86" height="21" font="4"><b>Analysis</b></text>
<text top="625" left="82" width="346" height="15" font="0">The core functions included in R’s <b>survey </b>pack-</text>
<text top="643" left="82" width="346" height="15" font="0">age allow the rapid estimation and cross-tabulation</text>
<text top="661" left="82" width="346" height="15" font="0">of means, distributions, frequencies, and quantiles.</text>
<text top="679" left="82" width="346" height="15" font="0">Each of the discussed operations also produces stan-</text>
<text top="697" left="82" width="346" height="15" font="0">dard errors, except for the quantile calculations using</text>
<text top="714" left="82" width="271" height="15" font="0">Taylor-series linearization design objects.</text>
<text top="757" left="82" width="202" height="17" font="7"><b>Unweighted frequencies</b></text>
<text top="788" left="82" width="346" height="15" font="0">Before conducting analysis on the complex survey</text>
<text top="806" left="82" width="346" height="15" font="0">design object, simple unweighted frequencies can be</text>
<text top="824" left="82" width="346" height="15" font="0">produced using the xtabs function. Unweighted fre-</text>
<text top="842" left="82" width="346" height="15" font="0">quencies only assure that sufficient cell sizes exist,</text>
<text top="860" left="82" width="346" height="15" font="0">meaning that the complex design does not need to</text>
<text top="878" left="82" width="346" height="15" font="0">be accounted for. Therefore, this function refers to</text>
<text top="896" left="82" width="321" height="15" font="0">the source data set, rather than the design object.</text>
<text top="930" left="82" width="226" height="10" font="8">&gt; #calculate unweighted cell size</text>
<text top="947" left="82" width="213" height="10" font="8">&gt; xtabs( ~ RTHLTH53 + REGION06,</text>
<text top="963" left="82" width="7" height="10" font="8">+</text>
<text top="963" left="110" width="185" height="10" font="8">subset(meps06, AGE06X &gt; 7))</text>
<text top="1004" left="82" width="111" height="17" font="7"><b>Distributions</b></text>
<text top="1035" left="82" width="346" height="15" font="0">As previously shown, the svymean function calcu-</text>
<text top="1053" left="82" width="346" height="15" font="0">lates mean values for any numeric variable. When</text>
<text top="1071" left="82" width="346" height="15" font="0">given character variables, however, svymean com-</text>
<text top="1089" left="82" width="346" height="15" font="0">putes percentages of the total. Notice the presence</text>
<text top="1106" left="82" width="346" height="15" font="0">of the na.rm = TRUE argument to eliminate missing</text>
<text top="1124" left="82" width="154" height="15" font="0">values from the results.</text>
<text top="1159" left="82" width="233" height="10" font="8">&gt; #percent distribution w/ svymean</text>
<text top="1175" left="82" width="240" height="10" font="8">&gt; #determine % adults in each state</text>
<text top="127" left="459" width="185" height="10" font="8">&gt; # (ex. poor health 3.26%)</text>
<text top="144" left="459" width="185" height="10" font="8">&gt; a &lt;- svymean(~ cRTHLTH53,</text>
<text top="160" left="459" width="7" height="10" font="8">+</text>
<text top="160" left="486" width="240" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17),</text>
<text top="177" left="459" width="7" height="10" font="8">+</text>
<text top="177" left="500" width="89" height="10" font="8">na.rm = TRUE)</text>
<text top="193" left="459" width="21" height="10" font="8">&gt; a</text>
<text top="223" left="481" width="324" height="15" font="0">Although this paper focuses on data manipula-</text>
<text top="241" left="459" width="346" height="15" font="0">tion and analysis, R includes powerful formatting</text>
<text top="259" left="459" width="346" height="15" font="0">and presentation tools. Individuals interested in con-</text>
<text top="277" left="459" width="346" height="15" font="0">verting simple tables — like the one produced by the</text>
<text top="295" left="459" width="346" height="15" font="0">code below — into more advanced graphics should</text>
<text top="313" left="459" width="220" height="15" font="0">research the R packages <b>graphics</b>,</text>
<text top="313" left="683" width="41" height="15" font="6"><a href="http://cran.r-project.org/package=lattice"><b>lattice</b></a></text>
<text top="313" left="724" width="81" height="15" font="0"><a href="http://cran.r-project.org/package=lattice">, </a><b>grid</b>, <b>grDe-</b></text>
<text top="331" left="459" width="34" height="15" font="3"><b>vices</b></text>
<text top="331" left="493" width="97" height="15" font="0">, as well as L</text>
<text top="331" left="585" width="9" height="11" font="1">A</text>
<text top="331" left="591" width="131" height="18" font="0">TEX converters like</text>
<text top="331" left="729" width="44" height="15" font="6"><a href="http://cran.r-project.org/package=Hmisc"><b>Hmisc</b></a></text>
<text top="331" left="780" width="25" height="15" font="0">and</text>
<text top="349" left="459" width="41" height="15" font="6"><a href="http://cran.r-project.org/package=xtable"><b>xtable</b></a></text>
<text top="348" left="500" width="4" height="15" font="0"><a href="http://cran.r-project.org/package=xtable">.</a></text>
<text top="381" left="459" width="213" height="10" font="8">&gt; #label &amp; format health status</text>
<text top="398" left="459" width="75" height="10" font="8">&gt; ftable(a,</text>
<text top="414" left="459" width="7" height="10" font="8">+</text>
<text top="414" left="486" width="213" height="10" font="8">list(c(&#34;Excellent / Very good&#34;,</text>
<text top="431" left="459" width="7" height="10" font="8">+</text>
<text top="431" left="500" width="171" height="10" font="8">&#34;Good&#34;, &#34;Fair&#34;, &#34;Poor&#34;)))</text>
<text top="460" left="481" width="324" height="15" font="0">Variables not converted to character before the</text>
<text top="478" left="459" width="346" height="15" font="0">creation of the design object can be hastily converted</text>
<text top="496" left="459" width="346" height="15" font="0">using the as.character function within the svymean</text>
<text top="514" left="459" width="346" height="15" font="0">command. Also notice the absence of the na.rm ar-</text>
<text top="532" left="459" width="346" height="15" font="0">gument, since missing values were not assigned for</text>
<text top="550" left="459" width="241" height="15" font="0">any cases of the REGION06 variable.</text>
<text top="583" left="459" width="240" height="10" font="8"># % adults living in census regions</text>
<text top="599" left="459" width="185" height="10" font="8"># (ex. northeastern 18.64%)</text>
<text top="616" left="459" width="240" height="10" font="8">&gt; svymean(~ as.character(REGION06),</text>
<text top="632" left="459" width="7" height="10" font="8">+</text>
<text top="632" left="486" width="240" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17))</text>
<text top="672" left="459" width="263" height="17" font="7"><b>Weighted frequencies and totals</b></text>
<text top="702" left="459" width="346" height="15" font="0">The svytotal and svytable functions can be used to</text>
<text top="720" left="459" width="346" height="15" font="0">calculate both weighted aggregate values and popu-</text>
<text top="738" left="459" width="107" height="15" font="0">lation estimates.</text>
<text top="771" left="459" width="226" height="10" font="8">&gt; #total 2006 health expenditures</text>
<text top="787" left="459" width="240" height="10" font="8">&gt; #all non-institutionalized adults</text>
<text top="804" left="459" width="123" height="10" font="8">&gt; # ($892 billion)</text>
<text top="820" left="459" width="151" height="10" font="8">&gt; svytotal(~ TOTEXP06,</text>
<text top="837" left="459" width="7" height="10" font="8">+</text>
<text top="837" left="486" width="240" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17))</text>
<text top="869" left="459" width="213" height="10" font="8">&gt; #num adults in census regions</text>
<text top="886" left="459" width="247" height="10" font="8">&gt; # (ex. northeastern 41.47 million)</text>
<text top="902" left="459" width="151" height="10" font="8">&gt; svytable(~ REGION06,</text>
<text top="919" left="459" width="7" height="10" font="8">+</text>
<text top="919" left="486" width="240" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17))</text>
<text top="952" left="459" width="130" height="10" font="8">&gt; #alternate method</text>
<text top="968" left="459" width="247" height="10" font="8">&gt; svytotal(~ as.character(REGION06),</text>
<text top="985" left="459" width="7" height="10" font="8">+</text>
<text top="985" left="486" width="240" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17))</text>
<text top="1024" left="459" width="188" height="17" font="7"><b>Medians and quantiles</b></text>
<text top="1054" left="459" width="346" height="15" font="0">The svyquantile function calculates each of the per-</text>
<text top="1072" left="459" width="346" height="15" font="0">centiles specified in the quantile argument. For ex-</text>
<text top="1090" left="459" width="346" height="15" font="0">ample, a value of 0.5 generates the median. How-</text>
<text top="1108" left="459" width="346" height="15" font="0">ever, any number of quantiles can be produced with</text>
<text top="1126" left="459" width="212" height="15" font="0">by specifying a vector of values.</text>
<text top="1159" left="459" width="226" height="10" font="8">&gt; #median 2006 health expenditure</text>
<text top="1175" left="459" width="171" height="10" font="8">&gt; svyquantile(~ TOTEXP06,</text>
<text top="1218" left="82" width="257" height="15" font="0">The R Journal Vol. 1/2, December 2009</text>
<text top="1218" left="704" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="6" position="absolute" top="0" left="0" height="1262" width="892">
<text top="67" left="82" width="15" height="15" font="0">42</text>
<text top="67" left="562" width="11" height="15" font="0">C</text>
<text top="69" left="573" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="67" left="664" width="10" height="15" font="0">R</text>
<text top="69" left="674" width="61" height="12" font="1">ESEARCH</text>
<text top="67" left="740" width="12" height="15" font="0">A</text>
<text top="69" left="752" width="53" height="12" font="1">RTICLES</text>
<text top="397" left="141" width="606" height="15" font="0">Table 2: Comparison of Balanced Repeated Replication Standard Error Calculation Methods</text>
<text top="444" left="273" width="9" height="13" font="8">R</text>
<text top="444" left="409" width="29" height="13" font="8">Stata</text>
<text top="444" left="535" width="70" height="13" font="8">Stata (MSE)</text>
<text top="444" left="686" width="60" height="13" font="8">SUDAAN</text>
<text top="480" left="92" width="18" height="13" font="8">All</text>
<text top="497" left="92" width="41" height="13" font="8">Adults</text>
<text top="480" left="153" width="32" height="13" font="8">Code</text>
<text top="482" left="214" width="122" height="14" font="8">svymean(˜TOTEXP06,</text>
<text top="498" left="214" width="48" height="10" font="8">subset(</text>
<text top="515" left="214" width="96" height="10" font="8">meps.brr.dsgn,</text>
<text top="531" left="214" width="89" height="10" font="8">AGE06X &gt; 17))</text>
<text top="482" left="360" width="41" height="10" font="8">svyset</text>
<text top="498" left="360" width="130" height="10" font="8">[pweight=PERWT06F],</text>
<text top="515" left="360" width="110" height="10" font="8">brrweight(BRR*x)</text>
<text top="531" left="360" width="89" height="10" font="8">vce(brr) svy:</text>
<text top="547" left="360" width="89" height="10" font="8">mean TOTEXP06</text>
<text top="482" left="506" width="41" height="10" font="8">svyset</text>
<text top="498" left="506" width="130" height="10" font="8">[pweight=PERWT06F],</text>
<text top="515" left="506" width="110" height="10" font="8">brrweight(BRR*x)</text>
<text top="531" left="506" width="117" height="10" font="8">vce(brr) mse svy:</text>
<text top="547" left="506" width="89" height="10" font="8">mean TOTEXP06</text>
<text top="482" left="652" width="89" height="10" font="8">proc descript</text>
<text top="498" left="652" width="96" height="10" font="8">data = &#34;adult&#34;</text>
<text top="515" left="652" width="117" height="10" font="8">filetype=sasxport</text>
<text top="531" left="652" width="69" height="10" font="8">design=brr</text>
<text top="547" left="652" width="117" height="10" font="8">notsorted; repwgt</text>
<text top="564" left="652" width="96" height="10" font="8">BRR1 - BRR64 ;</text>
<text top="580" left="652" width="110" height="10" font="8">weight perwt06f;</text>
<text top="597" left="652" width="89" height="10" font="8">var totexp06;</text>
<text top="615" left="153" width="34" height="13" font="8">Mean</text>
<text top="615" left="214" width="37" height="13" font="8">4009.1</text>
<text top="615" left="360" width="37" height="13" font="8">4009.1</text>
<text top="615" left="506" width="37" height="13" font="8">4009.1</text>
<text top="615" left="652" width="37" height="13" font="8">4009.1</text>
<text top="651" left="153" width="15" height="13" font="8">SE</text>
<text top="651" left="214" width="24" height="13" font="8">83.0</text>
<text top="651" left="360" width="24" height="13" font="8">83.0</text>
<text top="651" left="506" width="24" height="13" font="8">83.6</text>
<text top="651" left="652" width="24" height="13" font="8">83.6</text>
<text top="687" left="92" width="31" height="13" font="8">Non-</text>
<text top="704" left="92" width="43" height="13" font="8">Elderly</text>
<text top="720" left="92" width="41" height="13" font="8">Adults</text>
<text top="687" left="153" width="32" height="13" font="8">Code</text>
<text top="689" left="214" width="122" height="14" font="8">svymean(˜TOTEXP06,</text>
<text top="705" left="214" width="48" height="10" font="8">subset(</text>
<text top="721" left="214" width="96" height="10" font="8">meps.brr.dsgn,</text>
<text top="738" left="214" width="89" height="10" font="8">AGE06X &gt; 17 &amp;</text>
<text top="754" left="214" width="89" height="10" font="8">AGE06X &lt; 65))</text>
<text top="689" left="360" width="41" height="10" font="8">svyset</text>
<text top="705" left="360" width="130" height="10" font="8">[pweight=PERWT06F],</text>
<text top="721" left="360" width="110" height="10" font="8">brrweight(BRR*x)</text>
<text top="738" left="360" width="89" height="10" font="8">vce(brr) svy:</text>
<text top="754" left="360" width="110" height="10" font="8">mean TOTEXP06 if</text>
<text top="771" left="360" width="75" height="10" font="8">AGE06X &lt; 65</text>
<text top="689" left="506" width="41" height="10" font="8">svyset</text>
<text top="705" left="506" width="130" height="10" font="8">[pweight=PERWT06F],</text>
<text top="721" left="506" width="110" height="10" font="8">brrweight(BRR*x)</text>
<text top="738" left="506" width="117" height="10" font="8">vce(brr) mse svy:</text>
<text top="754" left="506" width="110" height="10" font="8">mean TOTEXP06 if</text>
<text top="771" left="506" width="75" height="10" font="8">AGE06X &lt; 65</text>
<text top="689" left="652" width="89" height="10" font="8">proc descript</text>
<text top="705" left="652" width="96" height="10" font="8">data = &#34;adult&#34;</text>
<text top="721" left="652" width="117" height="10" font="8">filetype=sasxport</text>
<text top="738" left="652" width="69" height="10" font="8">design=brr</text>
<text top="754" left="652" width="117" height="10" font="8">notsorted; repwgt</text>
<text top="771" left="652" width="96" height="10" font="8">BRR1 - BRR64 ;</text>
<text top="787" left="652" width="110" height="10" font="8">weight perwt06f;</text>
<text top="804" left="652" width="89" height="10" font="8">var totexp06;</text>
<text top="820" left="652" width="110" height="10" font="8">subpopn age06x &lt;</text>
<text top="836" left="652" width="21" height="10" font="8">65;</text>
<text top="855" left="153" width="34" height="13" font="8">Mean</text>
<text top="855" left="214" width="37" height="13" font="8">3155.4</text>
<text top="855" left="360" width="37" height="13" font="8">3155.4</text>
<text top="855" left="506" width="37" height="13" font="8">3155.4</text>
<text top="855" left="652" width="37" height="13" font="8">3155.4</text>
<text top="891" left="153" width="15" height="13" font="8">SE</text>
<text top="891" left="214" width="24" height="13" font="8">77.0</text>
<text top="891" left="360" width="24" height="13" font="8">77.0</text>
<text top="891" left="506" width="24" height="13" font="8">77.5</text>
<text top="891" left="652" width="24" height="13" font="8">77.5</text>
<text top="1218" left="82" width="257" height="15" font="0">The R Journal Vol. 1/2, December 2009</text>
<text top="1218" left="704" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="7" position="absolute" top="0" left="0" height="1262" width="892">
<text top="67" left="83" width="11" height="15" font="0">C</text>
<text top="69" left="94" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="67" left="184" width="10" height="15" font="0">R</text>
<text top="69" left="195" width="61" height="12" font="1">ESEARCH</text>
<text top="67" left="261" width="12" height="15" font="0">A</text>
<text top="69" left="273" width="53" height="12" font="1">RTICLES</text>
<text top="67" left="790" width="15" height="15" font="0">43</text>
<text top="127" left="82" width="7" height="10" font="8">+</text>
<text top="127" left="110" width="274" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17), 0.5)</text>
<text top="160" left="82" width="247" height="10" font="8">&gt; #calculate expenditure percentiles</text>
<text top="177" left="82" width="171" height="10" font="8">&gt; svyquantile(~ TOTEXP06,</text>
<text top="193" left="82" width="7" height="10" font="8">+</text>
<text top="193" left="110" width="240" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17),</text>
<text top="210" left="82" width="7" height="10" font="8">+</text>
<text top="210" left="110" width="199" height="10" font="8">c(0.1, 0.25, 0.5, 0.75, 0.9))</text>
<text top="240" left="105" width="324" height="15" font="0">Although there are a number of other methods</text>
<text top="258" left="82" width="346" height="15" font="0">for constructing an interval estimate, the Taylor-</text>
<text top="276" left="82" width="346" height="15" font="0">series linearization design object will not produce</text>
<text top="294" left="82" width="346" height="15" font="0">standard errors in svyquantile since the CDF is not</text>
<text top="312" left="82" width="92" height="15" font="0">differ<a href="2009-2-RJournal_2009-2_Damico.html#7">entiable.</a></text>
<text top="309" left="174" width="11" height="11" font="5"><a href="2009-2-RJournal_2009-2_Damico.html#7">10</a></text>
<text top="312" left="195" width="234" height="15" font="0">Median standard errors can be ob-</text>
<text top="330" left="82" width="346" height="15" font="0">tained normally if a replicate weighting design object</text>
<text top="348" left="82" width="120" height="15" font="0">exists for the data.</text>
<text top="381" left="82" width="206" height="10" font="8">&gt; #brr method: median health $</text>
<text top="398" left="82" width="171" height="10" font="8">&gt; svyquantile(~ TOTEXP06,</text>
<text top="414" left="82" width="7" height="10" font="8">+</text>
<text top="414" left="110" width="274" height="10" font="8">subset(meps.brr.dsgn, AGE06X &gt; 17), 0.5)</text>
<text top="445" left="105" width="324" height="15" font="0">If replicate weights do not exist for the data set,</text>
<text top="463" left="82" width="346" height="15" font="0">a jackknife replication design can be created by con-</text>
<text top="481" left="82" width="341" height="15" font="0">verting the Taylor-series linearization design object.</text>
<text top="514" left="82" width="233" height="10" font="8">&gt; #convert tsl to jackknife design</text>
<text top="531" left="82" width="165" height="10" font="8">&gt; meps.jackknife.dsgn &lt;-</text>
<text top="547" left="82" width="7" height="10" font="8">+</text>
<text top="547" left="110" width="254" height="10" font="8">as.svrepdesign(meps.tsl.dsgn, &#34;auto&#34;)</text>
<text top="580" left="82" width="247" height="10" font="8">&gt; #jackknife method: median health $</text>
<text top="597" left="82" width="171" height="10" font="8">&gt; svyquantile(~ TOTEXP06,</text>
<text top="613" left="82" width="7" height="10" font="8">+</text>
<text top="613" left="110" width="316" height="10" font="8">subset(meps.jackknife.dsgn, AGE06X &gt; 17), 0.5)</text>
<text top="644" left="105" width="324" height="15" font="0">Although this jackknife technique might produce</text>
<text top="662" left="82" width="346" height="15" font="0">a ballpark standard error statistic, recommended</text>
<text top="680" left="82" width="346" height="15" font="0">quantile standard error calculations can vary de-</text>
<text top="697" left="82" width="346" height="15" font="0">pending on the data set and analysis method. Some</text>
<text top="715" left="82" width="346" height="15" font="0">textbooks simply estimate median standard error as</text>
<text top="733" left="82" width="281" height="15" font="0">25% larger than the mean standard error<a href="2009-2-RJournal_2009-2_Damico.html#7">.</a></text>
<text top="730" left="364" width="11" height="11" font="5"><a href="2009-2-RJournal_2009-2_Damico.html#7">11</a></text>
<text top="733" left="386" width="43" height="15" font="0">There-</text>
<text top="751" left="82" width="346" height="15" font="0">fore, technical documentation and/or data support</text>
<text top="769" left="82" width="346" height="15" font="0">staff should be consulted before relying on this sur-</text>
<text top="787" left="82" width="152" height="15" font="0">vey design conversion.</text>
<text top="829" left="82" width="346" height="17" font="7"><b>Crosstabulation of totals, means, and</b></text>
<text top="850" left="82" width="77" height="17" font="7"><b>quantiles</b></text>
<text top="880" left="82" width="346" height="15" font="0">The svyby command repeats a specified function, it-</text>
<text top="898" left="82" width="346" height="15" font="0">erating across the set of distinct values in another fac-</text>
<text top="916" left="82" width="346" height="15" font="0">tor variable also within the data frame. This func-</text>
<text top="934" left="82" width="346" height="15" font="0">tion is comparable to lapply, which runs across in-</text>
<text top="952" left="82" width="346" height="15" font="0">dividual elements contained in an external vector.</text>
<text top="970" left="82" width="346" height="15" font="0">Rather than running the indicated function on the en-</text>
<text top="988" left="82" width="346" height="15" font="0">tire data set, svyby analyzes discrete subpopulations.</text>
<text top="1021" left="82" width="240" height="10" font="8">&gt; #health spending by census region</text>
<text top="1038" left="82" width="219" height="10" font="8">&gt; # (ex. northeast $173 billion)</text>
<text top="1054" left="82" width="213" height="10" font="8">&gt; svyby(~ TOTEXP06, ~ REGION06,</text>
<text top="1071" left="82" width="7" height="10" font="8">+</text>
<text top="1071" left="110" width="309" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17), svytotal)</text>
<text top="1104" left="82" width="240" height="10" font="8">&gt; #regional mean spending on health</text>
<text top="1120" left="82" width="178" height="10" font="8">&gt; # (ex. northeast $4,171)</text>
<text top="1137" left="82" width="213" height="10" font="8">&gt; svyby(~ TOTEXP06, ~ REGION06,</text>
<text top="127" left="459" width="7" height="10" font="8">+</text>
<text top="127" left="486" width="302" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17), svymean)</text>
<text top="160" left="459" width="206" height="10" font="8">&gt; #stratified by health status</text>
<text top="177" left="459" width="254" height="10" font="8">&gt; # (ex. northeast poor hlth $18,038)</text>
<text top="193" left="459" width="288" height="10" font="8">&gt; svyby(~ TOTEXP06, ~ REGION06 + RTHLTH53,</text>
<text top="210" left="459" width="7" height="10" font="8">+</text>
<text top="210" left="486" width="302" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17), svymean)</text>
<text top="242" left="459" width="219" height="10" font="8">&gt; #top quartile by health status</text>
<text top="259" left="459" width="199" height="10" font="8">&gt; # (ex. poor health $19,130)</text>
<text top="275" left="459" width="213" height="10" font="8">&gt; svyby(~ TOTEXP06, ~ RTHLTH53,</text>
<text top="292" left="459" width="7" height="10" font="8">+</text>
<text top="292" left="486" width="302" height="10" font="8">design = subset(meps.tsl.dsgn, AGE06X &gt; 17),</text>
<text top="308" left="459" width="7" height="10" font="8">+</text>
<text top="308" left="486" width="322" height="10" font="8">FUN = svyquantile, quantiles = 0.75, ci = TRUE)</text>
<text top="355" left="459" width="263" height="17" font="7"><b>Crosstabulation of distributions</b></text>
<text top="388" left="459" width="346" height="15" font="0">In addition to the straightforward distributions pre-</text>
<text top="406" left="459" width="346" height="15" font="0">sented using the svymean function, the svyby func-</text>
<text top="424" left="459" width="346" height="15" font="0">tion allows row and column percents to be calculated</text>
<text top="442" left="459" width="236" height="15" font="0">using any desired factor variable(s).</text>
<text top="481" left="459" width="254" height="10" font="8">&gt; #dist of hlth stat by census region</text>
<text top="498" left="459" width="219" height="10" font="8">&gt; svyby(~ cREGION06, ~cRTHLTH53,</text>
<text top="514" left="459" width="7" height="10" font="8">+</text>
<text top="514" left="486" width="302" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17), svymean)</text>
<text top="547" left="459" width="254" height="10" font="8">&gt; #dist of census region by hlth stat</text>
<text top="563" left="459" width="219" height="10" font="8">&gt; svyby(~ cRTHLTH53, ~cREGION06,</text>
<text top="580" left="459" width="7" height="10" font="8">+</text>
<text top="580" left="486" width="302" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17), svymean,</text>
<text top="596" left="459" width="7" height="10" font="8">+</text>
<text top="596" left="486" width="89" height="10" font="8">na.rm = TRUE)</text>
<text top="632" left="481" width="324" height="15" font="0">Unlike row and column percents, table percents</text>
<text top="650" left="459" width="346" height="15" font="0">do not require the svyby command and can be calcu-</text>
<text top="668" left="459" width="346" height="15" font="0">lated using the interaction function. This approach</text>
<text top="686" left="459" width="346" height="15" font="0">is principally useful when one wishes to examine a</text>
<text top="704" left="459" width="346" height="15" font="0">sub-subpopulation in relation to the entire popula-</text>
<text top="722" left="459" width="346" height="15" font="0">tion, rather than in relation to its parent subpopula-</text>
<text top="740" left="459" width="30" height="15" font="0">tion.</text>
<text top="779" left="459" width="254" height="10" font="8">&gt; #total % in each hlth stat &amp; region</text>
<text top="795" left="459" width="316" height="10" font="8">&gt; svymean(~ interaction(cRTHLTH53, cREGION06),</text>
<text top="812" left="459" width="7" height="10" font="8">+</text>
<text top="812" left="486" width="240" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17),</text>
<text top="828" left="459" width="7" height="10" font="8">+</text>
<text top="828" left="486" width="89" height="10" font="8">na.rm = TRUE)</text>
<text top="861" left="459" width="247" height="10" font="8">&gt; #repeat above with weighted counts</text>
<text top="878" left="459" width="322" height="10" font="8">&gt; svytotal(~ interaction(cRTHLTH53, cREGION06),</text>
<text top="894" left="459" width="7" height="10" font="8">+</text>
<text top="894" left="486" width="240" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17),</text>
<text top="911" left="459" width="7" height="10" font="8">+</text>
<text top="911" left="486" width="89" height="10" font="8">na.rm = TRUE)</text>
<text top="958" left="459" width="122" height="17" font="7"><b>Statistical tests</b></text>
<text top="991" left="459" width="346" height="15" font="0">Though most individual estimates are more easily</text>
<text top="1009" left="459" width="346" height="15" font="0">compared using a general difference formula, the</text>
<text top="1028" left="459" width="61" height="12" font="0">svyttest</text>
<text top="1027" left="523" width="282" height="15" font="0">function can be used to conduct quick two-</text>
<text top="1045" left="459" width="346" height="15" font="0">sample t-tests on any binary value that can be gen-</text>
<text top="1063" left="459" width="346" height="15" font="0">erated in the data set. For example, to assess statisti-</text>
<text top="1080" left="459" width="346" height="15" font="0">cal differences in health spending between adults in</text>
<text top="1098" left="459" width="346" height="15" font="0">a particular census region of the United States and</text>
<text top="1116" left="459" width="346" height="15" font="0">adults living in all other regions, one can rapidly cre-</text>
<text top="1134" left="459" width="346" height="15" font="0">ate a binary variable to test for spending differences.</text>
<text top="1158" left="94" width="9" height="9" font="9"><a href="http://faculty.washington.edu/tlumley/survey/html/svyquantile.html">10</a></text>
<text top="1161" left="104" width="402" height="9" font="5"><a href="http://faculty.washington.edu/tlumley/survey/html/svyquantile.html">http://faculty.washington.edu/tlumley/survey/html/svyquantile.html</a></text>
<text top="1173" left="94" width="9" height="9" font="9"><a href="http://davidmlane.com/hyperstat/A106993.html">11</a></text>
<text top="1176" left="104" width="268" height="9" font="5"><a href="http://davidmlane.com/hyperstat/A106993.html">http://davidmlane.com/hyperstat/A106993.html</a></text>
<text top="1218" left="82" width="257" height="15" font="0">The R Journal Vol. 1/2, December 2009</text>
<text top="1218" left="704" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
<page number="8" position="absolute" top="0" left="0" height="1262" width="892">
<text top="67" left="82" width="15" height="15" font="0">44</text>
<text top="67" left="562" width="11" height="15" font="0">C</text>
<text top="69" left="573" width="86" height="12" font="1">ONTRIBUTED</text>
<text top="67" left="664" width="10" height="15" font="0">R</text>
<text top="69" left="674" width="61" height="12" font="1">ESEARCH</text>
<text top="67" left="740" width="12" height="15" font="0">A</text>
<text top="69" left="752" width="53" height="12" font="1">RTICLES</text>
<text top="127" left="82" width="240" height="10" font="8">&gt; #spending in northeast vs. others</text>
<text top="144" left="82" width="268" height="10" font="8">&gt; svyttest(TOTEXP06 ~ (cREGION06 == 1),</text>
<text top="160" left="82" width="7" height="10" font="8">+</text>
<text top="160" left="110" width="247" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17 ))</text>
<text top="193" left="82" width="226" height="10" font="8">&gt; #spending in midwest vs. others</text>
<text top="210" left="82" width="268" height="10" font="8">&gt; svyttest(TOTEXP06 ~ (cREGION06 == 2),</text>
<text top="226" left="82" width="7" height="10" font="8">+</text>
<text top="226" left="110" width="247" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17 ))</text>
<text top="254" left="105" width="324" height="15" font="0">Using this method, any Boolean expression can</text>
<text top="272" left="82" width="346" height="15" font="0">be tested for differences between groups. The ex-</text>
<text top="290" left="82" width="346" height="15" font="0">amples below show that adults aged 45 to 54 do</text>
<text top="307" left="82" width="346" height="15" font="0">not have significantly higher or lower spending than</text>
<text top="325" left="82" width="346" height="15" font="0">the set of all other adults, while pre-retirees (aged</text>
<text top="343" left="82" width="346" height="15" font="0">55 to 64r) do spend significantly more than all other</text>
<text top="361" left="82" width="45" height="15" font="0">adults.</text>
<text top="392" left="82" width="192" height="10" font="8">&gt; #test 45-54 vs. all others</text>
<text top="408" left="82" width="247" height="10" font="8">&gt; svyttest(TOTEXP06 ~ (AGECAT == 4),</text>
<text top="425" left="82" width="7" height="10" font="8">+</text>
<text top="425" left="110" width="240" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17))</text>
<text top="458" left="82" width="192" height="10" font="8">&gt; #test 55-64 vs. all others</text>
<text top="474" left="82" width="226" height="10" font="8">&gt; svyttest(TOTEXP06 ~ (cAGECAT ==</text>
<text top="470" left="316" width="56" height="17" font="8">'55-64'),</text>
<text top="491" left="82" width="7" height="10" font="8">+</text>
<text top="491" left="110" width="247" height="10" font="8">subset(meps.tsl.dsgn, AGE06X &gt; 17 ))</text>
<text top="535" left="82" width="112" height="21" font="4"><b>Conclusion</b></text>
<text top="573" left="82" width="346" height="15" font="0">This article has outlined the capacity to prepare and</text>
<text top="591" left="82" width="346" height="15" font="0">accurately analyze health policy data with complex</text>
<text top="609" left="82" width="346" height="15" font="0">survey designs using R. By highlighting the neces-</text>
<text top="627" left="82" width="346" height="15" font="0">sary steps to transition from the proprietary statis-</text>
<text top="645" left="82" width="346" height="15" font="0">tical package code provided in the technical docu-</text>
<text top="663" left="82" width="346" height="15" font="0">mentation of the MEPS-HC data, this article equips</text>
<text top="681" left="82" width="346" height="15" font="0">R users with the conversion knowledge required to</text>
<text top="699" left="82" width="346" height="15" font="0">conduct important research on health policy data</text>
<text top="717" left="82" width="346" height="15" font="0">sets. The data manipulation and analysis techniques</text>
<text top="125" left="459" width="346" height="15" font="0">proven to work on MEPS can be generalized to the</text>
<text top="143" left="459" width="290" height="15" font="0">majority of available health policy data sets.</text>
<text top="161" left="481" width="324" height="15" font="0">As a secondary goal behind contributing to the</text>
<text top="179" left="459" width="346" height="15" font="0">health policy analyst’s toolkit, this article has laid</text>
<text top="197" left="459" width="346" height="15" font="0">the groundwork for health-care survey administra-</text>
<text top="215" left="459" width="346" height="15" font="0">tion organizations to follow the lead of the National</text>
<text top="233" left="459" width="346" height="15" font="0">Center for Health Statistics by including instructions</text>
<text top="251" left="459" width="346" height="15" font="0">and example code for R in future versions of their</text>
<text top="269" left="459" width="167" height="15" font="0">technical <a href="2009-2-RJournal_2009-2_Damico.html#8">documentation.</a></text>
<text top="266" left="626" width="11" height="11" font="5"><a href="2009-2-RJournal_2009-2_Damico.html#8">12</a></text>
<text top="319" left="459" width="133" height="21" font="4"><b>Version notes</b></text>
<text top="358" left="459" width="346" height="15" font="0">The calculations in this paper were performed with</text>
<text top="376" left="459" width="346" height="15" font="0">R version 2.9.0, using the R survey package ver-</text>
<text top="394" left="459" width="66" height="15" font="0">sion 3.16.</text>
<text top="394" left="545" width="261" height="15" font="0">Statistical package comparisons were</text>
<text top="412" left="459" width="346" height="15" font="0">calculated using SAS version 9.1.3 Service Pack 2,</text>
<text top="430" left="459" width="337" height="15" font="0">Stata/MP version 9.2, and SUDAAN release 10.0.0.</text>
<text top="480" left="459" width="196" height="21" font="4"><b>Acknowledgements</b></text>
<text top="519" left="459" width="346" height="15" font="0">I gratefully acknowledge Dr. Thomas Lumley, Pro-</text>
<text top="537" left="459" width="346" height="15" font="0">fessor of Biostatistics at the University of Washing-</text>
<text top="555" left="459" width="346" height="15" font="0">ton, Seattle and author of the R survey package for</text>
<text top="573" left="459" width="346" height="15" font="0">assistance with the replication design methodology,</text>
<text top="591" left="459" width="53" height="15" font="0">and Dr.</text>
<text top="591" left="527" width="279" height="15" font="0">Roger Peng, Professor of Biostatistics at</text>
<text top="609" left="459" width="346" height="15" font="0">Johns Hopkins School of Public Health for code edit-</text>
<text top="627" left="459" width="25" height="15" font="0">ing.</text>
<text top="663" left="459" width="104" height="15" font="0">Anthony Damico</text>
<text top="681" left="459" width="113" height="15" font="0">Statistical Analyst</text>
<text top="699" left="459" width="158" height="15" font="0">Kaiser Family Foundation</text>
<text top="718" left="459" width="114" height="12" font="10"><a href="mailto:adamico@kff.org">adamico@kff.org</a></text>
<text top="1173" left="94" width="9" height="9" font="9"><a href="ftp://ftp.cdc.gov/pub/Health_Statistics/NCHS/Dataset_Documentation/NHIS/2008/srvydesc.pdf">12</a></text>
<text top="1176" left="104" width="543" height="9" font="5"><a href="ftp://ftp.cdc.gov/pub/Health_Statistics/NCHS/Dataset_Documentation/NHIS/2008/srvydesc.pdf">ftp://ftp.cdc.gov/pub/Health_Statistics/NCHS/Dataset_Documentation/NHIS/2008/srvydesc.pdf</a></text>
<text top="1218" left="82" width="257" height="15" font="0">The R Journal Vol. 1/2, December 2009</text>
<text top="1218" left="704" width="102" height="15" font="0">ISSN 2073-4859</text>
</page>
</pdf2xml>
